"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7416],{5845:function(w,k,a){a.d(k,{Z:function(){return bc}});var c,e,g,l=a(34051),x=a.n(l),d=a(85893),y=a(67294),z=a(23193),A=a(57982),B=a(67190),C=a(47706),D=a(50239),E=a(32179),F=a(33688),G=a(58267),H=a(70801),I=a(50315),J=a(76406),K=a(16267),L=a(33585),m=a(94184),M=a.n(m),n=a(27484),f=a.n(n),o=a(28734),p=a.n(o),q=a(29387),r=a.n(q),s=a(70178),t=a.n(s),N=a(29291);function O(f){var a=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{},b=a.isUtc,c=a.onlyHours,g=new Date(f),d={hour:"numeric",hour12:!0,minute:"numeric"};void 0!==b&&b&&(d.timeZone="UTC");var e=g.toLocaleString("en-US",d).toLowerCase();return void 0!==c&&c?e.replace(":00","").replace(" ",""):e}var P=a(28282),Q=function(a){return a*(Math.PI/180)},R=function(g,a,b){if(!a||!b)return 0;var c=Q(Number(a.lat)-Number(b.lat)),d=Q(Number(a.lon)-Number(b.lon)),e=Math.sin(c/2)*Math.sin(c/2)+Math.cos(Q(Number(b.lat)))*Math.cos(Q(Number(a.lat)))*Math.sin(d/2)*Math.sin(d/2),f=6371*(2*Math.atan2(Math.sqrt(e),Math.sqrt(1-e)));return"miles"===g?.621371*f:f},S=function(b){var a;return null===(a=(0,P.t)(b))|| void 0===a?void 0:a.toFixed(1)};function T(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}var U=function(b){var a;return null==b?void 0:null===(a=b.schedule)|| void 0===a?void 0:a.weekly},V=function(c){if(!c)return{hasHours:!1,isOpenToday:!1};try{var d,b=U(c);if(!b)return{hasHours:!1,isOpenToday:!1};var a=b[new Date().toLocaleDateString("en-US",{weekday:"long"}).toLowerCase()];if(a&&1===Object.keys(a).length&& void 0!==a.isOpen)return{hasHours:!1,isOpenToday:!1};if(!(d=b)||Object.entries(d).every(function(d){var a,b,c=(a=d,b=2,function(a){if(Array.isArray(a))return a}(a)||function(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(a,b)||function(a,c){if(a){if("string"==typeof a)return T(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return T(a,c)}}(a,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return!1===(c[0],c[1]).isOpen}))return{hasHours:!1,isOpenToday:!1};return{hasHours:!0,isOpenToday:a.isOpen}}catch(e){return A.Z.error(e.message),{hasHours:!1,isOpenToday:!1}}},W=function(e,f){var a,b=e||{},c=b.distanceMi,d=b.primaryLocation;if(c)return c.toFixed(1);if(d)try{return null===(a=R("miles",f,d))|| void 0===a?void 0:a.toFixed(1)}catch(g){return A.Z.error(g),null}return null},X=function(f,g,h){var a,b,c,d=W(g,h),e=S(d);return a=d,b=null!=e?e:"",c=f,a?{full:"CA"===c?"".concat(b," km away"):"".concat(a," miles away"),shortened:"CA"===c?"".concat(b," km"):"".concat(a," mi")}:{full:null,shortened:null}},Y=function(b,c){var a;switch(b.retailType){case"clinic":a="doctors";break;case"cbd-store":a="cbd-store";break;default:a="CA"===c?"cannabis-store":"dispensary-info"}return"/".concat(a,"/").concat(b.slug)};f().extend(t()),f().extend(r()),f().extend(p());var Z=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday",],$=function(h){var i=h.className,f=h.dispensary,j=(0,y.useMemo)(function(){return V(f)},[f]),l=j.hasHours,m=j.isOpenToday,g=(0,y.useMemo)(function(){return U(f)},[f]),a=null==f?void 0:f.timeZone;if(!g||!l)return(0,d.jsx)("div",{className:M()("text-xs",i),children:(0,d.jsx)("span",{className:"font-bold",children:"Hours unavailable"})});var n=(0,K.a)(g,a),e="",b="";if(n){e="Open";var o=(0,L.Z)(g,a);b="until ".concat(O(o,{isUtc:!0,onlyHours:!0}))}else{var c=(0,K.g)(g,a);if(c&&(c.daysAhead>1||!m)){var k,p=(k=c.daysAhead,Z[(new Date().getDay()+k)%7]);e="Opens ".concat(p),b="at ".concat(O(c.open,{isUtc:!0,onlyHours:!0}))}else c?(e="Closed",b="until ".concat(O(c.open,{isUtc:!0,onlyHours:!0}))):e="Closed"}if(a&&(0,N.H4)(a)){var q=(0,N.ZU)(a);b+=" (".concat(q,")")}return(0,d.jsxs)("div",{className:M()("text-xs",i),children:[(0,d.jsxs)("span",{className:"font-bold",children:[e,"\xa0"]}),b&&(0,d.jsx)("span",{className:"mr-xs",children:b})]})},_=function(a){var e=a.children,f=a.countryCode,b=a.dispensary,g=a.userLocation,h=X(f,b,g),c=h.full;return(0,d.jsxs)("div",{className:"rounded bg-green-20 p-md pt-sm text-xs mt-xl",children:[(0,d.jsx)("div",{className:"font-bold",children:b.name}),e,(0,d.jsxs)("div",{children:[(0,d.jsx)($,{className:"inline-block",dispensary:b}),c&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"mr-md ml-sm",children:"|"}),(0,d.jsx)("span",{className:"text-green font-bold",children:c})]})]})]})},u=a(79547),aa=a.n(u),ab=a(42021),ac=function(b){var e=b.children,f=b.className,c=b.href,a=b.menuItem;return a?(0,d.jsxs)("div",{className:"jsx-6a9aeafc38f4c68b "+(M()("flex",f)||""),children:[a.thumbnailUrl&&(0,d.jsx)("div",{className:"jsx-6a9aeafc38f4c68b image-container flex-shrink-0",children:(0,d.jsx)(ab.Z,{className:"object-contain flex-shrink-0",src:a.thumbnailUrl,alt:a.name,sizes:[70]})}),(0,d.jsxs)("div",{className:"jsx-6a9aeafc38f4c68b ml-sm",children:[c?(0,d.jsx)("a",{href:c,className:"jsx-6a9aeafc38f4c68b text-sm font-bold text-green block",children:a.name}):(0,d.jsx)("span",{className:"jsx-6a9aeafc38f4c68b text-sm font-bold block",children:a.name}),e]}),(0,d.jsx)(aa(),{id:"6a9aeafc38f4c68b",children:".image-container.jsx-6a9aeafc38f4c68b{width:70px;height:70px}"})]}):null},ad=function(a){var b=a.onKeepShoppingClick;return(0,d.jsxs)("div",{className:"text-xs mt-lg",children:["You may have one bag going at a time. Select"," ",(0,d.jsx)("button",{onClick:b,className:"text-green cursor-pointer",children:"keep shopping"})," ","to add more items from same dispensary."]})};function ae(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}var af=function(a,b){if(a)return a.toLocaleString("en-".concat(b),{currency:"US"===b?"USD":"CAD",style:"currency"})},ag=function(b,c){if(b){var a=af(b,c);if(void 0!==a){var d=a.split(".").pop(),e=a.slice(1,a.indexOf("."));return[e,d]}}},ah=function(a){return Number("number"==typeof a?a/100:a)};function ai(b,e){if(b){var a,c,d=af(b,e),f=(a=ag(b,e)||[],c=2,function(a){if(Array.isArray(a))return a}(a)||function(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(a,c)||function(a,c){if(a){if("string"==typeof a)return ae(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return ae(a,c)}}(a,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),g=f[0],h=f[1],i=null==d?void 0:d.slice(0,1);return{cents:h,dollars:g,formattedPrice:d,symbol:i}}}var aj=a(48666);function ak(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var al=function(){},am=function(a){var e,f,g,h,i,c,n,j,s=a.cartId,k=a.countryCode,l=a.menuItem,o=a.onKeepShoppingClick,p=void 0===o?al:o,b=a.addedVariant,m=a.quantity,q=a.userLocation,r=(0,J.$)(l,b.id),t=(0,C.Y)();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(ac,{menuItem:l,href:r,className:"mb-xl",children:[(0,d.jsx)("div",{className:"font-bold mt-md",children:(f=b,g=m,h="".concat(g," item").concat(1===g?"":"s"),(i=(0,aj.o)({size:f.quantity,unit:f.unit}))&&"each"!==i?"".concat(h," @ ").concat(i," each"):h)}),b.deal&&b.deal.active&&(0,d.jsxs)("div",{className:"font-bold text-notification",children:[null===(e=ai(ah(b.deal.totalSavings*m),k))|| void 0===e?void 0:e.formattedPrice," ","savings"]}),(0,d.jsxs)("div",{className:"font-bold mt-md",children:[(0,d.jsx)("div",{className:"mb-xs",children:"Total Price"}),(0,d.jsx)(H.Z,function(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){ak(d,a,c[a])})}return d}({},ai((c=b,n=m,((null===(j=c.deal)|| void 0===j?void 0:j.active)?ah(c.deal.discountedPrice):c.price)*n),k)))]})]}),(0,d.jsxs)("div",{className:"flex mt-sm -mx-xs",children:[(0,d.jsxs)(G.Z,{variant:"tertiary",size:"small",className:"flex items-center justify-center flex-grow-0 w-full mx-xs",onClick:function(){p(),(0,F.t)("Add to Bag","Click","Keep Shopping",{cartId:s,janeCheckoutEnabled:t})},children:[(0,d.jsx)(I.Z,{name:"bag",height:"16",width:"16",className:"mr-xs"}),"keep shopping"]}),(0,d.jsx)(G.Z,{variant:"secondary",size:"small",className:"flex items-center justify-center flex-grow-0 w-full mx-xs",onClick:function(){return(0,F.t)("Add to Bag","Click","Checkout",{cartId:s,janeCheckoutEnabled:t})},href:"/pickup",children:"check out"})]}),(0,d.jsx)(_,{countryCode:k,dispensary:l.dispensary,userLocation:q}),(0,d.jsx)(ad,{onKeepShoppingClick:p})]})},an=(0,d.jsxs)("svg",{width:"14",height:"12",xmlns:"http://www.w3.org/2000/svg",className:"flex-shrink-0 mt-xs",children:[(0,d.jsx)("path",{d:"M6.77 6.71V3.16",stroke:"#FFCD00",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,d.jsx)("path",{d:"M1.13 6.6A.82.82 0 01.85 6c0-.23.1-.44.28-.6L6.1.91c.09-.08.2-.14.3-.19a1.04 1.04 0 011.05.19l4.97 4.47c.17.17.28.38.28.61 0 .23-.1.45-.28.6l-4.97 4.48c-.18.16-.43.25-.68.25-.25 0-.5-.09-.67-.25L1.13 6.61z",stroke:"#FFCD00",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.78 8c.2 0 .38.07.52.2.13.12.21.3.21.47 0 .36-.33.66-.74.66-.4 0-.74-.3-.74-.66 0-.37.33-.66.73-.67h.02z",fill:"#FFCD00"})]}),ao=function(){},ap=function(a){var h=a.cartId,b=a.menuItem,c=a.staleBag,e=a.onKeepShoppingClick,f=a.onCheckoutClick,g=a.onViewBagClick,i=(0,C.Y)();return(0,y.useEffect)(function(){(0,F.t)("Add to Bag","Impression","Item Not Available Message",{cartId:h,janeCheckoutEnabled:i})},[]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex text-xs border rounded px-sm py-xs bg-yellow-20 border-yellow-40 mb-md",children:[an,(0,d.jsxs)("div",{className:"ml-xs",children:["Oh no! Item"," ",(0,d.jsxs)("b",{children:[(null==b?void 0:b.name)||""," ",(null==b?void 0:b.brandName)?"by ".concat(b.brandName):""]})," ","is no longer available for pickup and has been removed."]})]}),(0,d.jsx)(ac,{menuItem:b}),(0,d.jsx)("div",{className:"mt-lg",children:c?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"text-xs text-center mb-lg",children:["No worries, you still have"," ",(0,d.jsxs)("b",{children:[c.cartItems.length," other product",c.cartItems.length>1?"s":""]})," ","in your bag."]}),(0,d.jsxs)("div",{className:"flex flex-col md:flex-row md:flex-row-reverse md:border-t border-light-grey -mx-lg px-md pt-md -mb-xs",children:[(0,d.jsx)(G.Z,{variant:"secondary",className:"text-sm",href:"/pickup",onClick:void 0===f?ao:f,children:"proceed to check out"}),(0,d.jsx)(G.Z,{variant:"text",className:"mx-auto text-sm text-default mt-lg md:mt-none",onClick:void 0===g?ao:g,children:"view bag"})]})]}):(0,d.jsx)("div",{className:"flex md:border-t border-light-grey -mx-lg px-md pt-md -mb-xs",children:(0,d.jsx)("button",{className:"flex-grow-0 mx-auto text-sm bg-white border-2 button text-default",onClick:void 0===e?ao:e,children:"keep shopping"})})})]})};function h(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}(a8=c||(c={})).Med="med",a8.Rec="rec";var aq=(h(e={},c.Med,{longTitle:"Medical",shortTitle:"Med"}),h(e,c.Rec,{longTitle:"Recreational",shortTitle:"Rec"}),e),ar=function(a){return aq[a].shortTitle},i=function(a){return aq[a].shortTitle},as=function(a){return function(b){return b.medical===(a===c.Med)}};function at(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function au(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}var av=Object.freeze({long:"medical",short:"med"}),aw=Object.freeze({long:"recreational",short:"rec"}),ax=function(a){var t=a.cartId,n=a.countryCode,h=a.newDispensary,b=a.staleDispensary,o=a.currentMenuType,i=a.messaging,j=a.onKeepBagClick,k=a.onNewBagClick,u=void 0===k?function(){}:k,v=(0,z.D)().publishEvent,l=(0,y.useState)(!1),e=l[0],w=l[1],D=(0,C.Y)(),E="dispensary"===i;(0,y.useEffect)(function(){v({action:B.aU.impression,cartId:t,category:B.WD.addToBag,janeCheckoutEnabled:D,label:E?"existing bag":"Med Rec menu message"})},[]);var f,g,p,q=o===c.Med,m=(g=2,function(a){if(Array.isArray(a))return a}(f=q?[av,aw]:[aw,av])||function(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(f,g)||function(a,c){if(a){if("string"==typeof a)return at(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return at(a,c)}}(f,g)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=m[0],s=m[1];return(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"mx-auto text-center py-section",style:{maxWidth:350},children:"dispensary"===i?(0,d.jsxs)("p",{children:["You can start a new bag with ",null==h?void 0:h.name,", but it will empty your existing bag with"," ",(0,d.jsx)("a",{href:b?Y(b,n):void 0,className:"underline text-green",children:null==b?void 0:b.name}),". Continue?"]}):(0,d.jsxs)("p",{className:"text-sm mt-lg",children:["You\u2019ve previously added goodies from the"," ",(0,d.jsxs)("b",{children:[s.long," menu"]})," at this dispensary. You'll need to start a new bag to add this item from the"," ",r.long," menu."]})}),(0,d.jsxs)("div",{className:"flex flex-col md:flex-row md:flex-row-reverse md:border-t border-light-grey -mx-lg px-md pt-md -mb-xs",children:[(0,d.jsx)(G.Z,{"data-testid":"new_bag__start_new_bag",variant:"secondary",className:"text-sm",disabled:e,onClick:(p=x().mark(function a(){return x().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return w(!0),v({action:B.aU.click,cartId:t,category:B.WD.addToBag,janeCheckoutEnabled:D,label:E?"create new":"Med Rec New Bag"}),a.prev=2,a.next=5,u();case 5:a.next=11;break;case 7:a.prev=7,a.t0=a.catch(2),A.Z.error(a.t0),w(!1);case 11:case"end":return a.stop()}},a,null,[[2,7]])}),function(){var a=this,b=arguments;return new Promise(function(d,e){var f=p.apply(a,b);function c(a){au(f,d,e,c,g,"next",a)}function g(a){au(f,d,e,c,g,"throw",a)}c(void 0)})}),children:e?"creating bag\u2026":"start a new bag"}),(0,d.jsx)(G.Z,{className:"mx-auto text-sm font-normal text-default mt-lg md:mt-none",onClick:void 0===j?function(){}:j,disabled:e,variant:"text",children:"cancel"})]})]})},v=a(9669),ay=a.n(v);function az(b){var a=ay().create();return a.defaults.baseURL=b,a.defaults.timeout=5e3,a.defaults.withCredentials=!0,a.interceptors.request.use(function(a){return a.headers&&(a.headers.Accept="application/json",a.headers["Content-Type"]="application/json"),a}),a}function aA(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function aB(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function aC(a,b,c){return(aC=!function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}()?function(d,e,b){var a=[null];a.push.apply(a,e);var c=new(Function.bind.apply(d,a));return b&&aF(c,b.prototype),c}:Reflect.construct).apply(null,arguments)}function aD(a){return(aD=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function aE(b,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),a&&aF(b,a)}function aF(a,b){return(aF=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function j(a){var b="function"==typeof Map?new Map:void 0;return(j=function(a){var d;if(null===a||(d=a,-1===Function.toString.call(d).indexOf("[native code]")))return a;if("function"!=typeof a)throw new TypeError("Super expression must either be null or a function");if(void 0!==b){if(b.has(a))return b.get(a);b.set(a,c)}function c(){return aC(a,arguments,aD(this).constructor)}return c.prototype=Object.create(a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),aF(c,a)})(a)}function aG(a){var b=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}();return function(){var d,f,c,e,g=aD(a);if(b){var h=aD(this).constructor;e=Reflect.construct(g,arguments,h)}else e=g.apply(this,arguments);return f=this,(c=e)&&("object"==((d=c)&&"undefined"!=typeof Symbol&&d.constructor===Symbol?"symbol":typeof d)||"function"==typeof c)?c:function(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(f)}}var aH=function(a){"use strict";aE(b,a);var c=aG(b);function b(){return aB(this,b),c.apply(this,arguments)}return b}(j(Error)),aI=function(a){"use strict";aE(b,a);var c=aG(b);function b(){return aB(this,b),c.apply(this,arguments)}return b}(j(Error));function aJ(a,b){return aK.apply(this,arguments)}function aK(){var a;return(aK=(a=x().mark(function a(b,c){var d,e,f,g,h,i;return x().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=c.cartId,e=c.menuItemId,f=c.quantity,g=c.variant,h=c.forceUpdate,i=az(b),a.abrupt("return",i.post("/cart_items",{cartItem:{medical:g.medical,menuItemId:e,packagePrice:g.price,packageSize:g.cartQuantity,packageUnit:g.cartUnit,quantity:f,variantId:g.id},dataApiVersion:"v3",forceUpdate:h},{headers:{"X-Leafly-Id":d}}).then(function(c){var a=c.data;if(a&&a.errors){var b=String(a.errors[0].detail),d=b.split(" ",2)[0];switch(d){case"cart_mismatch_error":throw new aH;case"multiple_menu_type_error":throw new aI;default:throw b}}return a}));case 3:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){aA(g,e,f,d,h,"next",a)}function h(a){aA(g,e,f,d,h,"throw",a)}d(void 0)})})).apply(this,arguments)}function aL(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function aM(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function aN(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){aM(d,a,c[a])})}return d}function aO(a){return aN({},a,{dispensaryData:aN({},a.dispensaryData,{primaryLocation:{lat:a.dispensaryData.latitude,lon:a.dispensaryData.longitude}})})}function aP(a,b,c){return aQ.apply(this,arguments)}function aQ(){var a;return(aQ=(a=x().mark(function a(b,c,d){var e,f,g,h;return x().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e=az(b),a.prev=1,a.next=4,e.get("/cart",{headers:{"X-Country-Code":d,"X-Leafly-Id":c}});case 4:return g=(f=a.sent).data.data,a.abrupt("return",aO(g));case 9:if(a.prev=9,a.t0=a.catch(1),!(ay().isAxiosError(a.t0)&&(null===(h=a.t0.response)|| void 0===h?void 0:h.status)===404)){a.next=14;break}return a.abrupt("return");case 14:throw a.t0;case 15:case"end":return a.stop()}},a,null,[[1,9]])}),function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){aL(g,e,f,d,h,"next",a)}function h(a){aL(g,e,f,d,h,"throw",a)}d(void 0)})})).apply(this,arguments)}var aR=a(25186);function aS(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function aT(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function aU(){var a;return(aU=(a=x().mark(function a(b,c,d){var e,f;return x().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e=az(b),a.next=3,e.get("/api/variants/v1/".concat(c),{headers:{"x-country-code":d},timeout:1e4});case 3:var g;return f=a.sent.data,a.abrupt("return",function(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){aT(d,a,c[a])})}return d}({},g=f,{imageUrl:(0,aR.s)(g.imageUrl),thumbnailUrl:(0,aR.s)(g.formattedThumbnailUrl)||(0,aR.s)(g.imageUrl)}));case 5:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){aS(g,e,f,d,h,"next",a)}function h(a){aS(g,e,f,d,h,"throw",a)}d(void 0)})})).apply(this,arguments)}var aV=a(40567),aW=a(51666),aX=a(41554),aY=a(48728),aZ=Object.freeze([{label:i(c.Rec),value:c.Rec},{label:"".concat(i(c.Med),"*"),value:c.Med},]),a$=function(b){var g=b.currentType,i=b.onMenuTypeChange,c=b.color,a=void 0===c?"white":c,e=(0,y.useState)(!1),h=e[0],j=e[1],f=(0,y.useRef)(null),k=function(a){i(a),j(!1)};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:M()("ml-md px-md py-sm text-sm rounded flex font-bold flex-initial",{"bg-green text-white":"green"===a,"bg-leafly-white text-black":"white"===a}),onClick:function(){return j(!0)},onKeyPress:function(a){"Enter"===a.key&&j(!0)},ref:f,role:"button",tabIndex:0,"data-testid":"menu-search-type",children:[(0,d.jsx)("div",{children:"Menu:"}),(0,d.jsxs)("div",{className:M()("ml-md flex",{"text-green":"white"===a,"text-white":"green"===a}),children:[(0,d.jsx)("div",{children:ar(g)}),(0,d.jsx)(aW.default,{})]})]}),h&&(0,d.jsxs)(D.hp,{onDismissed:function(){return j(!1)},returnFocusRef:f,title:"Choose your menu",children:[(0,d.jsx)(aY.Z,{name:"menuType",children:aZ.map(function(c){var a=c.value,b=c.label;return(0,d.jsx)(aX.Z,{id:b,checked:g===a,label:b,ariaLabel:b,className:"mb-lg",onChange:function(){k(a)},onClick:function(){k(a)},"data-testid":"menu-search-type-option-".concat(a)},a)})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{children:"*You need a valid medical ID to shop from a medical menu. Your ID number is required at checkout."}),(0,d.jsxs)("p",{children:[(0,d.jsx)("span",{className:"font-bold",children:"Good news:"})," You can choose to save your med ID to your Leafly profile for faster checkout."]})]})]})]})},a_=function(a){var b=a.type;return(0,d.jsxs)("div",{className:"px-md py-sm text-sm rounded bg-leafly-white text-black",children:[ar(b)," only"]})};function a0(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var a1=function(a){if(!(null==a?void 0:a.active))return null;var c=a.discountType,b=a.discountAmount,e="percent"===c?"".concat(b,"% off"):"$".concat(b," off");return(0,d.jsxs)("div",{className:"absolute z-10 top-0 flex right-0","data-testid":"discount-tag",children:[(0,d.jsx)("div",{className:"inline-block border-notification",style:{borderLeft:"calc(var(--font-size-xs) + 8px) solid transparent",borderTopWidth:"calc(var(--font-size-xs) + 8px)"}}),(0,d.jsx)("div",{className:"inline-block text-white bg-notification font-bold leading-none rounded-tr text-xs p-xs",children:e})]})},a2=function(a){var k=a.className,f=a.countryCode,g=a.selected,h=void 0!==g&&g,b=a.variant,l=function(a,d){if(null==a)return{};var b,c,e=function(c,f){if(null==c)return{};var a,b,d={},e=Object.keys(c);for(b=0;b<e.length;b++)a=e[b],f.indexOf(a)>=0||(d[a]=c[a]);return d}(a,d);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(c=0;c<f.length;c++)b=f[c],!(d.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(a,b)&&(e[b]=a[b])}return e}(a,["className","countryCode","selected","variant"]),c=b.deal,i=b.price,m=b.unit,n=b.quantity,e=!!(null==c?void 0:c.active),o=e?ah(c.discountedPrice):i,p=(0,aj.o)({size:n,unit:m}),j=ai(o,f),q=j.dollars,r=j.cents,s=ai(i,f),t=s.formattedPrice;return(0,d.jsxs)("div",function(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){a0(d,a,c[a])})}return d}({"data-testid":"variant-select__card",className:M()("relative h-full flex flex-col justify-end border rounded py-sm px-lg cursor-pointer",{"bg-green-20 border-deep-green-60":h,"border-light-grey":!h},k)},l,{children:[e&&a1(c),e&&(0,d.jsx)("div",{className:"line-through text-xs",children:t}),(0,d.jsxs)("div",{"data-testid":"variant-select__price",className:"flex items-start font-bold text-base",children:[(0,d.jsx)("span",{children:"$"}),(0,d.jsx)("span",{className:"text-hero leading-none font-headers",children:q}),(0,d.jsx)("span",{children:r})]}),(0,d.jsx)("span",{className:"font-bold text-xs mt-xs",children:p})]}))};function a3(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}var a4=function(b){var e,f,t=b.cartId,n=b.countryCode,a=b.menuItem,g=b.menuType,u=b.onAddToBagClick,o=b.onMenuTypeChange,v=b.onVariantSelect,w=b.selectedVariantId,h=(0,y.useState)(!1),i=h[0],D=h[1],j=(0,y.useState)("variants"),p=j[0],E=j[1],H=(0,C.Y)(),I=(0,z.D)().publishEvent;(0,y.useEffect)(function(){I({action:B.aU.impression,cartId:t,category:B.WD.addToBag,janeCheckoutEnabled:H,label:B.__.variantSelection,menuItemId:a.id,productId:w})},[]);var J,q,k=a.dispensary.tags.includes("dualLicense")||!1,l=a.variants.some(function(a){return g===c.Rec?a.medical:!a.medical}),r=k&&l?a.variants.filter(as(g)):a.variants,s=r.slice().sort(function(c,d){var a,b;return Number(!!(null===(a=d.deal)|| void 0===a?void 0:a.active))-Number(!!(null===(b=c.deal)|| void 0===b?void 0:b.active))||c.price-d.price}),m=function(a){return M()("text-xs font-bold rounded-full px-sm mx-xs",{"bg-default text-white":p===a,"text-green":p!==a})},K=function(a){E(a),(0,F.t)("Quick Add to Bag","Click","variants"===a?"Amount tab":"Available offers tab",{janeCheckoutEnabled:H})};return(0,d.jsxs)(d.Fragment,{children:[!!(null==a?void 0:null===(e=a.offers)|| void 0===e?void 0:e.length)&&a.offers.length>0&&(0,d.jsxs)("div",{className:"jsx-86e545eb610ad98c flex flex-row my-md",children:[(0,d.jsx)("button",{onClick:function(){return K("variants")},className:"jsx-86e545eb610ad98c "+(m("variants")||""),children:"Amount"}),(0,d.jsxs)("button",{onClick:function(){return K("offers")},className:"jsx-86e545eb610ad98c "+(m("offers")||""),children:["Available offers (",a.offers.length,")"]})]}),"offers"===p?(0,d.jsx)(aV.Z,{offers:null!==(f=a.offers)&& void 0!==f?f:[],displayList:!0,dealLink:"/".concat("CA"===n?"cannabis-store":"dispensary-info","/").concat(a.dispensary.slug,"/menu"),abridged:!1,gaCategory:"Quick Add to Bag"}):(0,d.jsxs)(d.Fragment,{children:[k&&(0,d.jsx)("div",{className:"jsx-86e545eb610ad98c flex flex-row-reverse pb-lg",children:l?(0,d.jsx)(a$,{onMenuTypeChange:o,currentType:g}):(0,d.jsx)(a_,{type:g})}),(0,d.jsxs)("div",{className:"jsx-86e545eb610ad98c row",children:[(0,d.jsx)("div",{className:"jsx-86e545eb610ad98c col md:col-1/3",children:(0,d.jsxs)("div",{className:"jsx-86e545eb610ad98c flex flex-row md:flex-col",children:[a.thumbnailUrl&&(0,d.jsx)("div",{className:"jsx-86e545eb610ad98c variant-menu-item-image",children:(0,d.jsx)(ab.Z,{src:a.thumbnailUrl,alt:"".concat(a.name," image"),sizes:[150],ratio:"square"})}),(0,d.jsx)("div",{className:"jsx-86e545eb610ad98c font-bold ml-sm md:ml-none mt-none md:mt-xs",children:a.name})]})}),(0,d.jsx)("div",{className:"jsx-86e545eb610ad98c overflow-y-auto variant-selection-container col md:col-2/3 mt-md md:-mt-lg",children:(0,d.jsx)("div",{className:"jsx-86e545eb610ad98c row pt-lg pr-xs",children:s.map(function(b){return(0,d.jsx)("div",{className:"jsx-86e545eb610ad98c col-1/2 mb-md",children:(0,d.jsx)(a2,{"data-testid":"variant-tile",countryCode:n,onClick:function(){I({action:B.aU.click,cartId:t,category:B.WD.addToBag,janeCheckoutEnabled:H,label:B.__.variantSelection,menuItemId:a.id,productId:b.id}),v(b.id)},onKeyDown:function(a){return"Enter"===a.key&&v(b.id)},selected:b.id===w,tabIndex:s.length>1?0:void 0,variant:b})},b.id)})})})]}),(0,d.jsx)("div",{className:"jsx-86e545eb610ad98c absolute bottom-0 left-0 w-full border-t border-light-grey md:w-auto p-md md:-mx-lg md:relative md:pb-none",children:(0,d.jsx)(G.Z,{className:"mx-auto text-sm",disabled:i,onClick:(q=x().mark(function b(){return x().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return D(!0),I({action:B.aU.click,cartId:t,category:B.WD.addToBag,janeCheckoutEnabled:H,label:B.__.variantConfirmation,menuItemId:a.id,productId:w}),b.prev=2,b.next=5,u();case 5:b.next=11;break;case 7:b.prev=7,b.t0=b.catch(2),A.Z.error(b.t0),D(!1);case 11:case"end":return b.stop()}},b,null,[[2,7]])}),function(){var a=this,b=arguments;return new Promise(function(d,e){var f=q.apply(a,b);function c(a){a3(f,d,e,c,g,"next",a)}function g(a){a3(f,d,e,c,g,"throw",a)}c(void 0)})}),variant:"secondary",icon:"bag",children:i?"adding\u2026":"add to bag"})})]}),(0,d.jsx)(aa(),{id:"86e545eb610ad98c",children:".variant-selection-container.jsx-86e545eb610ad98c{height:320px}@media(max-width:768px){.variant-selection-container.jsx-86e545eb610ad98c{height:100%;max-height:-webkit-calc(100vh - 330px);max-height:-moz-calc(100vh - 330px);max-height:calc(100vh - 330px)}.variant-menu-item-image.jsx-86e545eb610ad98c{width:70px}}"})]})};function a5(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function a6(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){a5(g,e,f,d,h,"next",a)}function h(a){a5(g,e,f,d,h,"throw",a)}d(void 0)})}}function a7(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var a8,b,a9=Object.freeze({long:"medical",short:"med"}),ba=Object.freeze({long:"recreational",short:"rec"});(b=g||(g={}))[b.BagFailed=0]="BagFailed",b[b.Confirmation=1]="Confirmation",b[b.VariantSelection=2]="VariantSelection",b[b.ResetBag=3]="ResetBag",b[b.ResetMenu=4]="ResetMenu",b[b.Inactive=5]="Inactive";var bb=function(){},bc=function(a){var b,v=a.cartId,f=a.consumerApiUrl,h=a.countryCode,N=a.immediatelyAddToBag,i=a.onCartFetch,O=void 0===i?bb:i,j=a.onDismiss,w=void 0===j?bb:j,k=a.onReservation,P=void 0===k?bb:k,l=a.onReservationFail,Q=void 0===l?bb:l,F=a.reservationsApiUrl,R=a.splitEventName,S=a.useAddedToBagPopout,T=a.userLocation,m=a.quantity,U=void 0===m?1:m,G=a.variantId,H=function(a,d){if(null==a)return{};var b,c,e=function(c,f){if(null==c)return{};var a,b,d={},e=Object.keys(c);for(b=0;b<e.length;b++)a=e[b],f.indexOf(a)>=0||(d[a]=c[a]);return d}(a,d);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(c=0;c<f.length;c++)b=f[c],!(d.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(a,b)&&(e[b]=a[b])}return e}(a,["cartId","consumerApiUrl","countryCode","immediatelyAddToBag","onCartFetch","onDismiss","onReservation","onReservationFail","reservationsApiUrl","splitEventName","useAddedToBagPopout","userLocation","quantity","variantId"]);if(!v&&!f&&!h&&!F)throw new Error("AddToBagModal must be supplied with cartId, consumerApiUrl, countryCode and reservationsApiUrl to function correctly");var I,J,K,n=(0,y.useState)(),L=n[0],V=n[1],o=(0,y.useState)(),W=o[0],X=o[1],p=(0,y.useState)(),Y=p[0],Z=p[1],q=(0,y.useState)(),$=q[0],_=q[1],r=(0,y.useState)(),aa=r[0],ab=r[1],s=(0,y.useState)(!1),ac=s[0],ad=s[1],t=(0,y.useState)(g.Inactive),e=t[0],ae=t[1],af=(0,C.Y)(),ag=(0,z.D)().publishEvent,u=(0,E.ZP)(),ah=(null==u?void 0:null===(b=u.dispatch)|| void 0===b?void 0:b.track)||bb,ai=(I=a6(x().mark(function a(){var b;return x().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,aP(F,v,h);case 2:ab(b=a.sent),b&&O(b);case 5:case"end":return a.stop()}},a)})),function(){return I.apply(this,arguments)}),M=(0,y.useCallback)(function(){w(),ad(!1),ab(void 0)},[w]),aj=(J=a6(x().mark(function a(b){return x().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,aJ(F,{cartId:v,forceUpdate:ac,menuItemId:L.menuItemId,quantity:U,variant:b}).then(function(){Z(b),ah("leafly_global_addToBagClick"),R&&ah(R),P(),S?(document.dispatchEvent(new CustomEvent("getcart",{detail:{janeCheckoutEnabled:af,variantId:b.id}})),e===g.Inactive?M():ae(g.Inactive)):(document.dispatchEvent(new CustomEvent("getcart")),ae(g.Confirmation))}).catch(function(){var a=a6(x().mark(function a(b){return x().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:a.t0=b.constructor,a.next=a.t0===aH?3:a.t0===aI?8:11;break;case 3:return a.next=5,ai();case 5:return ad(!0),ae(g.ResetBag),a.abrupt("break",16);case 8:return ad(!0),ae(g.ResetMenu),a.abrupt("break",16);case 11:return a.next=13,ai();case 13:ae(g.BagFailed),ag({action:B.aU.impression,category:B.WD.bag,errorMessage:b.message,label:"add to bag error"}),A.Z.error(b);case 16:Q();case 17:case"end":return a.stop()}},a)}));return function(b){return a.apply(this,arguments)}}());case 4:case"end":return a.stop()}},a)})),function(a){return J.apply(this,arguments)}),ak=function(a){var b=((null==L?void 0:L.variants)||[]).find(as(a));_(null==b?void 0:b.id),X(a)},al=(K=a6(x().mark(function a(){var b;return x().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:aj(b=null==L?void 0:L.variants.find(function(a){return a.id===$}));case 2:case"end":return a.stop()}},a)})),function(){return K.apply(this,arguments)});(0,y.useEffect)(function(){G&&(function(a,b,c){return aU.apply(this,arguments)})(f,G,h).then(function(b){var a,d=null===(a=b.variants)|| void 0===a?void 0:a.find(function(a){return a.id===G});_(G),V(b),X((null==d?void 0:d.medical)?c.Med:c.Rec)}).catch(function(a){ae(g.BagFailed),Q(),A.Z.error(a.message)})},[f,G,h]),(0,y.useEffect)(function(){if(L){var a;if((null===(a=L.variants)|| void 0===a?void 0:a.length)===1||N){var b=L.variants.find(function(a){return a.id===G});b&&aj(b)}else ae(g.VariantSelection)}},[L]);var an=(0,y.useRef)(e);return(0,y.useEffect)(function(){e!==an.current&&e===g.Inactive&&M(),an.current=e},[e,M]),e!==g.Inactive?(0,d.jsx)(D.u_,function(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){a7(d,a,c[a])})}return d}({title:function(){switch(e){case g.Confirmation:return"Added to bag";case g.VariantSelection:return"Choose your amount";case g.BagFailed:return"Uh oh!";case g.ResetBag:return"Create a new bag?";case g.ResetMenu:var a=W===c.Med?a9:ba;return"Switch to a ".concat(a.long," bag?");default:return"Add to bag"}}(),onDismissed:function(){return ae(g.Inactive)},width:500},H,{children:function(b){var a=b.dismiss;return(0,d.jsxs)(d.Fragment,{children:[e===g.BagFailed&&(0,d.jsx)(ap,{cartId:v,menuItem:L,onKeepShoppingClick:a,staleBag:aa}),e===g.Confirmation&&(0,d.jsx)(am,{cartId:v,countryCode:h,menuItem:L,onKeepShoppingClick:a,addedVariant:Y,quantity:U,userLocation:T}),e===g.VariantSelection&&(0,d.jsx)(a4,{cartId:v,countryCode:h,menuItem:L,menuType:W,onAddToBagClick:al,onMenuTypeChange:ak,onVariantSelect:function(a){_(a)},selectedVariantId:$}),(e===g.ResetBag||e===g.ResetMenu)&&(0,d.jsx)(ax,{cartId:v,countryCode:h,newDispensary:L.dispensary,staleDispensary:null==aa?void 0:aa.dispensaryData,currentMenuType:W,messaging:e===g.ResetBag?"dispensary":"menu",onKeepBagClick:a,onNewBagClick:al})]})}})):null}},70801:function(e,b,a){a.d(b,{Z:function(){return j}});var f=a(85893),c=a(79547),g=a.n(c);a(67294);var d=a(94184),h=a.n(d),i=Object.freeze({hero:{largeTextClasses:"text-hero",marginTop:"5px",smallTextClasses:"text-sm"},large:{largeTextClasses:"text-lg",marginTop:"2px",smallTextClasses:"small-text"}});function j(a){var l=a.dollars,b=a.cents,d=a.size,m=void 0===d?"hero":d,e=a.symbol,n=void 0===e?"$":e;b=String(Number(b)).padStart(2,"0");var c=i[m],o=c.largeTextClasses,j=c.smallTextClasses,k=c.marginTop;return(0,f.jsxs)("div",{className:"jsx-99bad14d87a40740 font-bold font-headers whitespace-nowrap",children:[(0,f.jsx)(g(),{id:"99bad14d87a40740",children:".small-text.jsx-99bad14d87a40740{font-size:15px}"}),(0,f.jsx)("span",{style:{marginTop:k},className:"jsx-99bad14d87a40740 "+(h()("inline-block align-top",j)||""),children:n}),(0,f.jsx)("span",{className:"jsx-99bad14d87a40740 "+(o||""),children:l}),(0,f.jsxs)("span",{style:{marginLeft:"1px",marginTop:k},className:"jsx-99bad14d87a40740 "+(h()("inline-block align-top",j)||""),children:[(0,f.jsx)("span",{className:"jsx-99bad14d87a40740 -ml-xs opacity-0",children:"."}),b]})]})}},98880:function(d,b,a){var e=a(85893);a(67294);var c=a(94184),f=a.n(c),g=a(34914);b.Z=function(a){var i=a.label,b=a.subLabel,c=a.finePrint,d=a.progress,h=a.progressText,j=a.onClickAll,k=a.buttonRef,l=a.className;return!b&&h&&(b=(0,e.jsx)("span",{className:f()({"font-bold":!!d&&d>=1}),children:h})),(0,e.jsxs)("div",{className:"border border-light-grey rounded p-md ".concat(l),children:[(0,e.jsx)(g.Z,{label:"".concat(i).concat(c?"*":""),progress:d,onClickAll:j,buttonRef:k}),b&&(0,e.jsx)("div",{className:"text-xs mt-sm",children:b}),c&&(0,e.jsxs)("div",{className:"text-xs text-grey mt-sm",children:["*",c]})]})}},71733:function(d,b,a){var e=a(85893);a(67294);var c=a(94184),f=a.n(c);b.Z=function(a){var b=a.backgroundClassName,c=a.className;return(0,e.jsxs)("svg",{className:f()("flex-shrink-0",void 0===c?"fill-current text-white":c),width:"24",height:"24",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,e.jsx)("rect",{width:"20",height:"20",rx:"4",className:void 0===b?"fill-current text-notification":b}),(0,e.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.19141 5.1665H9.68541C9.75474 5.1665 9.82141 5.19384 9.87007 5.24317L14.9807 10.3532C15.1754 10.5485 15.4927 10.5485 15.6874 10.3532C15.8827 10.1585 15.8827 9.84117 15.6874 9.6465L10.5774 4.53584C10.3407 4.29917 10.0201 4.1665 9.68541 4.1665H6.19141C5.91541 4.1665 5.69141 4.3905 5.69141 4.6665C5.69141 4.9425 5.91541 5.1665 6.19141 5.1665Z"}),(0,e.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.54135 5.69043H5.42802C5.09335 5.69043 4.77202 5.8231 4.53535 6.05976C4.29868 6.29643 4.16602 6.61776 4.16602 6.95243V10.0651C4.16602 10.2304 4.19868 10.3944 4.26202 10.5478C4.32535 10.7004 4.41802 10.8398 4.53535 10.9571L9.48802 15.9098C9.60468 16.0271 9.74402 16.1198 9.89735 16.1831C10.05 16.2464 10.2147 16.2798 10.38 16.2798C10.546 16.2798 10.71 16.2464 10.8633 16.1831C11.0167 16.1198 11.156 16.0264 11.2727 15.9098L14.3853 12.7964C14.622 12.5598 14.7547 12.2391 14.7547 11.9044C14.7547 11.5698 14.622 11.2491 14.3853 11.0124L9.43335 6.06043C9.19668 5.82376 8.87602 5.69043 8.54135 5.69043ZM8.54068 6.69043C8.61002 6.69043 8.67668 6.71776 8.72602 6.7671L13.678 11.7191C13.7273 11.7684 13.7547 11.8351 13.7547 11.9044C13.7547 11.9738 13.7273 12.0404 13.678 12.0898L10.5653 15.2024C10.5413 15.2271 10.5127 15.2464 10.4807 15.2598C10.4487 15.2724 10.4147 15.2798 10.38 15.2798C10.346 15.2798 10.312 15.2724 10.28 15.2598C10.248 15.2464 10.2193 15.2271 10.1947 15.2024L5.24268 10.2504C5.21868 10.2258 5.19935 10.1971 5.18602 10.1651C5.17268 10.1338 5.16602 10.0991 5.16602 10.0651V6.95243C5.16602 6.88243 5.19335 6.81576 5.24268 6.7671C5.29202 6.71776 5.35868 6.69043 5.42802 6.69043H8.54068Z"}),(0,e.jsx)("path",{d:"M7.42868 8.28615C7.29668 8.28615 7.16802 8.32482 7.05801 8.39815C6.94868 8.47148 6.86335 8.57548 6.81268 8.69748C6.76201 8.81948 6.74868 8.95348 6.77468 9.08282C6.80068 9.21215 6.86401 9.33082 6.95735 9.42415C7.05068 9.51682 7.16935 9.58082 7.29868 9.60615C7.42802 9.63215 7.56201 9.61882 7.68335 9.56815C7.80535 9.51815 7.90935 9.43282 7.98268 9.32282C8.05602 9.21349 8.09535 9.08415 8.09535 8.95282C8.09535 8.86482 8.07868 8.77815 8.04468 8.69748C8.01135 8.61615 7.96268 8.54282 7.90068 8.48082C7.83868 8.41882 7.76468 8.36948 7.68402 8.33615C7.60268 8.30282 7.51601 8.28548 7.42868 8.28615Z"})]})}},34914:function(d,b,a){var e=a(85893);a(67294);var c=a(94184),f=a.n(c),g=a(71733),h=a(32746);b.Z=function(a){var i=a.label,c=a.textClassName,b=a.progress,d=a.onClickAll,j=a.buttonRef;return(0,e.jsxs)("div",{className:"flex flex-row items-center text-xs font-bold justify-between",children:[(0,e.jsxs)("span",{className:"flex",children:[(0,e.jsx)(g.Z,{}),(0,e.jsx)("span",{className:f()("ml-sm",void 0===c?"text-notification":c),style:{marginTop:"2px"},children:i})]}),!!b&&b>0&&(0,e.jsx)(h.Z,{progress:b}),d&&(0,e.jsx)("button",{onClick:d,ref:j,className:"underline text-xs font-bold",children:"see all"})]})}},32746:function(e,b,a){var f=a(85893),c=a(79547),g=a.n(c);a(67294);var h=a(39255),d=a(94184),i=a.n(d);b.Z=function(c){var a=c.progress,b=a>=1;return(0,f.jsxs)("div",{className:"jsx-d8eb31de4819714b relative progress-wrapper flex justify-center items-center",children:[(0,f.jsx)("span",{className:"jsx-d8eb31de4819714b absolute",children:(0,f.jsx)(h.default,{width:"16",height:"16",className:i()({"text-light-grey":!b,"text-notification":b})})}),(0,f.jsx)("svg",{viewBox:"0 0 36 36",className:"jsx-d8eb31de4819714b circular-chart absolute",children:(0,f.jsx)("path",{stroke:"#e7e7e7",strokeWidth:"2px",strokeDasharray:"0, ".concat(100*a,", 100"),fill:"none",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",className:"jsx-d8eb31de4819714b to-be-progress"})}),(0,f.jsx)("svg",{viewBox:"0 0 36 36",className:"jsx-d8eb31de4819714b circular-chart",children:(0,f.jsx)("path",{stroke:"#dd007e",fill:"none",strokeLinecap:"round",strokeWidth:"2px",strokeDasharray:"".concat(100*a,", 100"),d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",className:"jsx-d8eb31de4819714b progress"})}),(0,f.jsx)(g(),{id:"d8eb31de4819714b",children:".progress-wrapper.jsx-d8eb31de4819714b{width:24px;height:24px}.circular-chart.jsx-d8eb31de4819714b{display:block;margin:2px}.to-be-progress.jsx-d8eb31de4819714b{-webkit-animation:toBeProgress 1s ease-out backwards;-moz-animation:toBeProgress 1s ease-out backwards;-o-animation:toBeProgress 1s ease-out backwards;animation:toBeProgress 1s ease-out backwards}.progress.jsx-d8eb31de4819714b{-webkit-animation:progress 1s ease-out forwards;-moz-animation:progress 1s ease-out forwards;-o-animation:progress 1s ease-out forwards;animation:progress 1s ease-out forwards}.check-transition.jsx-d8eb31de4819714b{-webkit-transition:fill 1s;-moz-transition:fill 1s;-o-transition:fill 1s;transition:fill 1s}@-webkit-keyframes progress{0%{stroke-dasharray:0 100}}@-moz-keyframes progress{0%{stroke-dasharray:0 100}}@-o-keyframes progress{0%{stroke-dasharray:0 100}}@keyframes progress{0%{stroke-dasharray:0 100}}@-webkit-keyframes toBeProgress{0%{stroke-dasharray:0 0 100}}@-moz-keyframes toBeProgress{0%{stroke-dasharray:0 0 100}}@-o-keyframes toBeProgress{0%{stroke-dasharray:0 0 100}}@keyframes toBeProgress{0%{stroke-dasharray:0 0 100}}"})]})}},40567:function(c,b,a){var d=a(85893);a(67294);var e=a(33688),f=a(98880),g=a(34914);b.Z=function(a){var b=a.offers,j=a.displayList,k=a.abridged,o=a.dealLink,h=a.onClickAll,l=a.buttonRef,i=a.gaCategory,p=void 0===i?"Unspecified":i,m=1===b.length,n=function(a){var b=a.offerTitle;return(0,d.jsx)("a",{className:"underline",onClick:function(){return(0,e.t)(p,"Click","Browse eligible items")},href:"".concat(o,"?deal_title[]=").concat(encodeURIComponent("".concat(b))),children:"Browse eligible items"})};if(m){var c=b[0];return k?(0,d.jsx)(g.Z,{label:c.shortDisplayTitle}):(0,d.jsx)(f.Z,{label:c.title,subLabel:(0,d.jsx)(n,{offerTitle:c.title}),finePrint:c.finePrint})}return j?(0,d.jsx)(d.Fragment,{children:b.map(function(a,b){return(0,d.jsx)(f.Z,{label:a.title,subLabel:(0,d.jsx)(n,{offerTitle:a.title}),finePrint:a.finePrint,className:"my-md"},"".concat(a.title,"-").concat(b))})}):h?(0,d.jsx)(f.Z,{label:"".concat(b.length," offers available"),buttonRef:l,onClickAll:h}):(0,d.jsx)(g.Z,{label:"".concat(b.length," offers")})}},41554:function(d,b,a){a.d(b,{Z:function(){return h}});var e=a(85893);a(67294);var c=a(94184),f=a.n(c);function g(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var h=function(a){var c=a.children,d=a.className,b=a.id,h=a.name,i=a.value,j=a.checked,k=a.label,l=a.labelOrder,m=a.onChange,n=a.defaultChecked,o=a.ariaLabel,p=function(a,d){if(null==a)return{};var b,c,e=function(c,f){if(null==c)return{};var a,b,d={},e=Object.keys(c);for(b=0;b<e.length;b++)a=e[b],f.indexOf(a)>=0||(d[a]=c[a]);return d}(a,d);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(c=0;c<f.length;c++)b=f[c],!(d.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(a,b)&&(e[b]=a[b])}return e}(a,["children","className","id","name","value","checked","label","labelOrder","onChange","defaultChecked","ariaLabel"]),q=f()(d,"radio__label",{"radio__label--before":"before"===l});return(0,e.jsxs)("label",function(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){g(d,a,c[a])})}return d}({htmlFor:b,className:q,"aria-label":o},p,{children:[(0,e.jsxs)("div",{className:"radio__container",children:[(0,e.jsx)("input",{type:"radio",id:b,name:h,onChange:m,value:i,defaultChecked:n,checked:j}),(0,e.jsx)("span",{className:"radio__fill"})]}),(0,e.jsx)("span",{children:k||c})]}))}},48728:function(g,d,a){a.d(d,{Z:function(){return l}});var h=a(85893);a(67294);var e=a(94184),i=a.n(e),f=a(45697),b=a.n(f);function j(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function k(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){j(d,a,c[a])})}return d}var c=function(a){var b=a.children,e=a.className,c=a.label,d=a.labelClassName,j=a.labelOrder,l=a.name,f=function(a,d){if(null==a)return{};var b,c,e=function(c,f){if(null==c)return{};var a,b,d={},e=Object.keys(c);for(b=0;b<e.length;b++)a=e[b],f.indexOf(a)>=0||(d[a]=c[a]);return d}(a,d);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(c=0;c<f.length;c++)b=f[c],!(d.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(a,b)&&(e[b]=a[b])}return e}(a,["children","className","label","labelClassName","labelOrder","name"]),g=i()(e);return(0,h.jsxs)("fieldset",k({className:g},f,{children:[c&&(0,h.jsx)("legend",{className:null!=d?d:"font-bold mb-md",children:c}),b&&b.map(function(a,b){var c=a.type;return(0,h.jsx)(c,k({name:l,labelOrder:j},a.props),b)})]}))};c.propTypes={children:b().node,className:b().string,id:b().string,label:b().string,labelClassName:b().string,labelOrder:b().oneOf(["before"]),name:b().string};var l=c},31286:function(c,a,b){b.d(a,{S:function(){return h},g:function(){return i}});var d={km:1.60934,mi:1,miles:1},e=function(a){return"US"===a?"mi":"km"},f=function(a){return"US"===a?"miles":"km"},g=function(c){var a=arguments.length>1&& void 0!==arguments[1]?arguments[1]:"mi",e=arguments.length>2&& void 0!==arguments[2]?arguments[2]:1;if(null==c)return null;var b=(c*d[a]).toFixed(e);return Number.isInteger(b%10)?"".concat(parseFloat(b).toFixed(0)).concat("miles"===a?" ".concat(a):a):"".concat(parseFloat(b)).concat("miles"===a?" ".concat(a):a)},h=function(b,a){var c=arguments.length>2&& void 0!==arguments[2]&&arguments[2];return g(b,c?f(a):e(a))},i=function(a,b){var c=arguments.length>2&& void 0!==arguments[2]&&arguments[2];return g(a,c?f(b):e(b),a<10?1:0)}},48666:function(c,b,a){a.d(b,{o:function(){return e}});var d=a(3784);function e(b){var e=b.unit,f=b.size,a=(0,d.g)({packageSize:f,packageUnit:e});if(/oz$/.test(a))return a.replace(/oz$/,"ounce");if(/[^m]g$/.test(a)){var c=a.match(/^\d+/),g=1===Number(c&&c[0]||1)?"gram":"grams";return a.replace(/g$/,g)}return/pc$/.test(a)?a.replace(/pc$/,"each"):a}},76406:function(c,a,b){b.d(a,{"$":function(){return d}});var d=function(a,d){var b,c=d||a.variants&&a.variants[0].id;return"/dispensary-info/".concat(a.dispensarySlug,"/p/").concat(a.menuItemId,"/").concat((b=a.name)?b.toLowerCase().trim().replace(/ /g,"-").replace(/[^\w-]+/g,"").substring(0,50):"product").concat(c?"?variant=".concat(c):"")}}}])