var lotameIsCompatible = function() { return ( typeof Object.keys !== 'undefined' && typeof window.postMessage !== 'undefined' && typeof XMLHttpRequest !== 'undefined' && typeof(new XMLHttpRequest().withCredentials) !== 'undefined' && typeof console !== 'undefined' && typeof console.log !== 'undefined' && typeof document.createElement !== 'undefined' ); }; if(!lotameIsCompatible()){ if(console && console.error){ console.error('Lotame: This browser does not meet the minimum requirements.'); } } else { function lt15834_aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function lt15834_a(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:lt15834_aa(a)}}var lt15834_ba="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},lt15834_b; if("function"==typeof Object.setPrototypeOf)lt15834_b=Object.setPrototypeOf;else{var lt15834_c;a:{var lt15834_ca={Fb:!0},lt15834_da={};try{lt15834_da.__proto__=lt15834_ca;lt15834_c=lt15834_da.Fb;break a}catch(a){}lt15834_c=!1}lt15834_b=lt15834_c?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var lt15834_ea=lt15834_b; function lt15834_d(a,b){a.prototype=lt15834_ba(b.prototype);a.prototype.constructor=a;if(lt15834_ea)lt15834_ea(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.ec=b.prototype} var lt15834_e="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,lt15834_fa="function"==typeof Object.assign?Object.assign:function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(a[e]=d[e])}return a},lt15834_ga="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)}; function lt15834_f(a,b){if(b){var c=lt15834_e;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&lt15834_ga(c,a,{configurable:!0,writable:!0,value:b})}}lt15834_f("Object.assign",function(a){return a||lt15834_fa});lt15834_f("Object.is",function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}}); lt15834_f("Array.prototype.includes",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var g=d[c];if(g===b||Object.is(g,b))return!0}return!1}}); lt15834_f("String.prototype.includes",function(a){return a?a:function(b,c){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==(this+"").indexOf(b,c||0)}});lt15834_f("Object.entries",function(a){return a?a:function(b){var c=[],d;for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&c.push([d,b[d]]);return c}}); lt15834_f("Array.prototype.find",function(a){return a?a:function(b,c){a:{var d=this;d instanceof String&&(d=String(d));for(var e=d.length,g=0;g<e;g++){var f=d[g];if(b.call(c,f,g,d)){b=f;break a}}b=void 0}return b}}); lt15834_f("Promise",function(a){function b(f){this.aa=0;this.Va=void 0;this.O=[];var h=this.Ha();try{f(h.resolve,h.reject)}catch(k){h.reject(k)}}function c(){this.D=null}function d(f){return f instanceof b?f:new b(function(h){h(f)})}if(a)return a;c.prototype.gb=function(f){if(null==this.D){this.D=[];var h=this;this.hb(function(){h.Ob()})}this.D.push(f)};var e=lt15834_e.setTimeout;c.prototype.hb=function(f){e(f,0)};c.prototype.Ob=function(){for(;this.D&&this.D.length;){var f=this.D;this.D=[];for(var h= 0;h<f.length;++h){var k=f[h];f[h]=null;try{k()}catch(l){this.Gb(l)}}}this.D=null};c.prototype.Gb=function(f){this.hb(function(){throw f;})};b.prototype.Ha=function(){function f(l){return function(m){k||(k=!0,l.call(h,m))}}var h=this,k=!1;return{resolve:f(this.Zb),reject:f(this.Ua)}};b.prototype.Zb=function(f){if(f===this)this.Ua(new TypeError("A Promise cannot resolve to itself"));else if(f instanceof b)this.$b(f);else{a:switch(typeof f){case "object":var h=null!=f;break a;case "function":h=!0;break a; default:h=!1}h?this.Yb(f):this.pb(f)}};b.prototype.Yb=function(f){var h=void 0;try{h=f.then}catch(k){this.Ua(k);return}"function"==typeof h?this.ac(h,f):this.pb(f)};b.prototype.Ua=function(f){this.Ab(2,f)};b.prototype.pb=function(f){this.Ab(1,f)};b.prototype.Ab=function(f,h){if(0!=this.aa)throw Error("Cannot settle("+f+", "+h+"): Promise already settled in state"+this.aa);this.aa=f;this.Va=h;this.Pb()};b.prototype.Pb=function(){if(null!=this.O){for(var f=0;f<this.O.length;++f)g.gb(this.O[f]);this.O= null}};var g=new c;b.prototype.$b=function(f){var h=this.Ha();f.ia(h.resolve,h.reject)};b.prototype.ac=function(f,h){var k=this.Ha();try{f.call(h,k.resolve,k.reject)}catch(l){k.reject(l)}};b.prototype.then=function(f,h){function k(n,p){return"function"==typeof n?function(q){try{l(n(q))}catch(r){m(r)}}:p}var l,m,t=new b(function(n,p){l=n;m=p});this.ia(k(f,l),k(h,m));return t};b.prototype.catch=function(f){return this.then(void 0,f)};b.prototype.ia=function(f,h){function k(){switch(l.aa){case 1:f(l.Va); break;case 2:h(l.Va);break;default:throw Error("Unexpected state: "+l.aa);}}var l=this;null==this.O?g.gb(k):this.O.push(k)};b.resolve=d;b.reject=function(f){return new b(function(h,k){k(f)})};b.race=function(f){return new b(function(h,k){for(var l=lt15834_a(f),m=l.next();!m.done;m=l.next())d(m.value).ia(h,k)})};b.all=function(f){var h=lt15834_a(f),k=h.next();return k.done?d([]):new b(function(l,m){function t(q){return function(r){n[q]=r;p--;0==p&&l(n)}}var n=[],p=0;do n.push(void 0),p++,d(k.value).ia(t(n.length- 1),m),k=h.next();while(!k.done)})};return b});function lt15834_g(){this.Ia=-1!==window.location.href.indexOf("lotameDebug\x3dtrue");this.name="LT.JS"}function lt15834_h(a,b){return a.name+": "+b}lt15834_g.prototype.debug=function(a,b){this.Ia&&a&&"undefined"!==typeof console&&"undefined"!==typeof console.log&&(b?console.log(lt15834_h(this,a),b):console.log(lt15834_h(this,a)))}; lt15834_g.prototype.error=function(a,b){a&&"undefined"!==typeof console&&"undefined"!==typeof console.error&&(null!=b?console.error(lt15834_h(this,a),b):console.error(lt15834_h(this,a)))};var lt15834_=new lt15834_g;function lt15834_i(){this.ra=23328E3}lt15834_i.prototype.H=function(a,b,c,d){d=void 0===d?this.ra:d;document.cookie=a+"\x3d"+b+"; Domain\x3d"+c+"; path\x3d/; SameSite\x3dLax; expires\x3d"+(new Date(Date.now()+1E3*d)).toUTCString()};lt15834_i.prototype.G=function(a){var b=null,c=""+document.cookie;0!==c.length&&(a=c.match(a+"\x3d([^;]*)"),"undefined"!==typeof a&&null!==a&&(b=a[1]));return b};function lt15834_j(a,b,c){a=void 0===a?{}:a;b=void 0===b?{}:b;var d=window.location.href,e=d.indexOf("?");-1!==e&&(d=d.substring(0,e));this.f=Object.assign({},{bcpClient:15834,audienceExtractionEnabled:!1,consentClientIds:[15834],panoramaIdEnabled:!0,enableAudienceMatching:!0,usPrivacyEnabled:!1,googleEspEnabled:!1,enableDeclaredIds:!1,windowLocation:d,namespace:window[(void 0===c?"lotame_":c)+"15834"],cookieDomain:lt15834_ha(String(document.domain).toLowerCase()),protocol:"https",tagsDomain:"tags.crwdcntrl.net", privacyDomain:"privacy.crwdcntrl.net",bcpVersion:"6",sharedS3Path:"lt/shared/2",cookieNames:["_cc_id","_cc_aud","_cc_cc"],profileIdCookieName:"_cc_id",panoramaIdName:"panoramaId",cmpWaitMillis:250,sensitivePrefix:"st"},a);a=this.f.namespace;if(!a)throw"Configuration Error! Please verify that your code and configuration match the specs and check for syntax errors in the console.";b=Object.assign({},{onProfileReady:null,bcpPrefix:"bcp"},b);this.Jb=lt15834_ia(a,b);Object.assign(this.f,this.Jb);this.f.iframeOrigin= this.f.protocol+"://tags.crwdcntrl.net";this.f.bcpDomain=this.f.bcpPrefix+".crwdcntrl.net";this.f.sensitiveDomain=this.f.sensitivePrefix+".crwdcntrl.net"}function lt15834_k(a){return!(!a.f.audienceExtractionEnabled||!a.f.enableAudienceMatching||null===a.f.onProfileReady&&!1===a.f.audienceLocalStorage)} function lt15834_ia(a,b){var c={},d=Object.keys(b),e=a.config;e&&(Object.keys(e).filter(function(g){return!d.includes(g)}).forEach(function(g){return lt15834_.error("'"+g+"' is an unsupported config option.")}),c=Object.keys(e).filter(function(g){return d.includes(g)}).reduce(function(g,f){switch(f){case "audienceLocalStorage":"boolean"===typeof e[f]?g[f]=e[f]?"lotame_15834_auds":!1:"string"===typeof e[f]?g[f]=e[f]:lt15834_.error("The audienceLocalStorage config option is being ignored as it is neither a boolean nor a string. The default value of false will be used instead."); break;case "onTagReady":"function"!==typeof e[f]?lt15834_.error("The onTagReady config option is being ignored as it is not a function."):g[f]=e[f];break;case "onProfileReady":"function"!==typeof e[f]?lt15834_.error("The onProfileReady config option is being ignored as it is not a function."):g[f]=e[f];break;case "autoRun":"boolean"!==typeof e[f]?lt15834_.error("The autoRun config option is being ignored as it is not a boolean. The default value of true will be used instead."):g[f]=e[f];break;case "bcpPrefix":-1=== ["bcp","cn"].indexOf(e[f])?lt15834_.error("The bcpPrefix config option is being ignored as it is not valid. The default value of bcp will be used instead."):g[f]=e[f];break;case "clientId":lt15834_.debug("The clientId config option is not needed anymore");break;default:lt15834_.error("'"+f+"' is an unsupported config option.")}return g},{}));return Object.assign({},b,c)} function lt15834_ha(a){var b=new lt15834_i,c=a.split(".");if(2==c.length)return a;var d=-2;do{var e=a=c.slice(d).join(".");b.H("lotame_domain_check",e,a,10);b.G("lotame_domain_check")===e?e=!1:(d+=-1,e=Math.abs(d)<=c.length)}while(e);return a}function lt15834_l(a){return a.f.cookieDomain?!1:!0}function lt15834_m(a){return a.f.cookieDomain?!0:!1}lt15834_j.prototype.o=function(){return JSON.parse(JSON.stringify(this.f))};function lt15834_ja(){lt15834_j.call(this,{hasPageLoadOptimusRules:!0,collectPrebidData:!1,googleCampaignEvents:[],whitelistRequired:!0,firstImpressionRules:[],bcpEnabled:"true",cookieHandlingScheme:"DOMAIN_WHITELIST_REQUIRED"},{onTagReady:null,autoRun:!0,audienceLocalStorage:!1,clientId:null});this.Db="DOMAIN_WHITELIST_DISABLED";var a=this.f;var b=String(document.domain).toLowerCase();var c=null,d=this.f.whitelistRequired;if(this.f.cookieHandlingScheme===this.Db)b=lt15834_ha(b);else{var e="tweed.com awalkfortheages.ca prairierecords.ca app.buddi.io cannanorth.ca fireandflower.com shopcanopy.com fhhealth.com edisoncannabis.co citycannabis.co fireandflower.in hotboxshop.ca fearnoage.com deepspace.com tiff.net buddi.io fhathome.com broadwaycannabis.ca organigram.ca leafly.ca shinybud.com kindmagazine.ca leafly.com 7acres.com tweed.ca hfxforpdn.com tokyosmoke.com friendlystranger.com cannacabana.com wellnessbyre.com wellness.fhhealth.com baycrestfoundation.org baycrest.org happy-dayz.ca nevrohfx.com baycrestproam.ca hf10.com".split(" "), g=[];if(d&&0===e.length)throw"Client "+this.f.bcpClient+" cannot run lt.min.js because it has no domains whitelisted.";var f=b;do{if(e.includes(f)||g.includes(f)){c=f;break}var h=f.indexOf(".");f=f.substring(h+1)}while(-1!=h);if(d&&null==c)throw"Client "+this.f.bcpClient+" cannot run lt.min.js because neither the domain "+b+" nor any of its sub domains have been properly whitelisted";b=c}a.cookieDomain=b;if("true"!==this.f.bcpEnabled)throw"The lt.min.js file cannot run because client "+this.f.bcpClient+ " is not permitted to call Lotame's servers.";}lt15834_d(lt15834_ja,lt15834_j);function lt15834_n(a){a=void 0===a?{}:a;this.A=null;if(a=a.thirdParty){var b=!0;"object"!=typeof a&&(b=!1,lt15834_.error("tagInput.data.thirdParty should be an object"));a.namespace||(b=!1,lt15834_.error("tagInput.data.thirdParty.namespace is not defined"));a.value||(b=!1,lt15834_.error("tagInput.data.thirdParty.value is not defined"));a.namespace&&"string"!=typeof a.namespace&&(b=!1,lt15834_.error("tagInput.data.thirdParty.namespace should be defined and have a string as its value"));a.value&&"string"!= typeof a.value&&(b=!1,lt15834_.error("tagInput.data.thirdParty.value should be defined and have a string as its value"));b&&(this.A={},this.A[a.namespace]=a.value)}}function lt15834_o(a){return!!(a.A&&0<Object.keys(a.A).length)}function lt15834_p(a){var b=null;if(a.A){b={};var c=Object.keys(a.A);b.namespace=c[0];b.value=a.A[c[0]]}return b}lt15834_n.prototype.la=function(){return{tp:lt15834_o(this)?this.A:void 0}};lt15834_n.prototype.u=function(){return!lt15834_o(this)}; lt15834_n.prototype.o=function(){return{fc:lt15834_o(this)?lt15834_p(this):void 0}};function lt15834_q(a){this.da=[];if(a&&Array.isArray(a))for(var b=0;b<a.length;b++){var c=a[b];this.da.includes(c)||this.da.push(c)}};function lt15834_r(a){a=void 0===a?{}:a;lt15834_n.call(this,a);this.l=this.h=this.g=null;lt15834_ka(this,a.behaviorIds);lt15834_la(this,a.behaviors);lt15834_ma(this,a.ruleBuilder)}lt15834_d(lt15834_r,lt15834_n); function lt15834_na(a,b){b=void 0===b?new lt15834_r:b;var c={};c.behaviorIds=(new lt15834_q((a.g||[]).concat(b.g||[]))).da;c.thirdParty=lt15834_s(b.A)?lt15834_p(b):lt15834_p(a);var d=Object.assign({},a.h,b.h);c.behaviors={};Object.keys(d).forEach(function(e){c.behaviors[e]=(new lt15834_q((this.h?this.h[e]||[]:[]).concat(b.h?b.h[e]||[]:[]))).da},a);d=Object.assign({},a.l,b.l);c.ruleBuilder={};Object.keys(d).forEach(function(e){c.ruleBuilder[e]=(new lt15834_q((this.l?this.l[e]||[]:[]).concat(b.l?b.l[e]|| []:[]))).da},a);return new lt15834_r(c)}function lt15834_ka(a,b){b&&(Array.isArray(b)&&b.every(function(c){return"number"===typeof c})?a.g=b:lt15834_.error("tagInput.data.behaviorIds should be an array of numbers"))} function lt15834_la(a,b){if(b){var c=!0;"object"!=typeof b&&lt15834_.error("tagInput.data.behaviors should be an object");for(var d=lt15834_a(Object.entries(b)),e=d.next();!e.done;e=d.next()){var g=lt15834_a(e.value);e=g.next().value;g=g.next().value;if(!Array.isArray(g)||!g.every(function(f){return"string"===typeof f})){lt15834_.error("tagInput.data.behaviors."+e+" should be an array of strings");c=!1;break}}c&&(a.h=b)}}function lt15834_t(a){return!!(a.h&&0<Object.keys(a.h).length)} function lt15834_ma(a,b){if(b){for(var c=!0,d=lt15834_a(Object.entries(b)),e=d.next();!e.done;e=d.next()){var g=lt15834_a(e.value);e=g.next().value;g=g.next().value;if(!Array.isArray(g)||!g.every(function(f){return"string"===typeof f})){lt15834_.error("tagInput.data.ruleBuilder."+e+" should be an array of strings");c=!1;break}}c&&(a.l=b)}}function lt15834_u(a){return!!(a.l&&0<Object.keys(a.l).length)} lt15834_r.prototype.la=function(){return Object.assign({},{b:this.g&&0<this.g.length?this.g:void 0,bt:lt15834_t(this)?this.h:void 0,db:lt15834_u(this)?this.l:void 0},lt15834_n.prototype.la.call(this))};lt15834_r.prototype.u=function(){return!(this.g&&0<this.g.length)&&!lt15834_t(this)&&!lt15834_u(this)&&lt15834_n.prototype.u.call(this)}; lt15834_r.prototype.o=function(){return Object.assign({},{behaviorIds:this.g&&0<this.g.length?this.g:void 0,behaviors:lt15834_t(this)?this.h:void 0,ruleBuilder:lt15834_u(this)?this.l:void 0},lt15834_n.prototype.o.call(this))};function lt15834_v(a,b,c){document.addEventListener?a.addEventListener(b,c,!1):document.attachEvent&&a.attachEvent("on"+b,c)}function lt15834_w(a,b,c){document.removeEventListener?a.removeEventListener(b,c,!1):document.detachEvent&&a.detachEvent("on"+b,c)}function lt15834_s(a){return"[object Object]"===Object.prototype.toString.call(a)}function lt15834_x(a){return 0===Object.keys(a).length&&a.constructor===Object} function lt15834_y(a,b,c){c=void 0===c?!0:c;b=b||{};var d=Object.assign({method:"GET",ba:lt15834_z,error:lt15834_z,complete:lt15834_z},b),e=new XMLHttpRequest;e.onreadystatechange=function(){if(4==e.readyState){var g={};if(200==e.status){var f={};try{f=JSON.parse(e.response)}catch(h){lt15834_.error("Could not parse the following response from Lotame's servers: "+e.response)}d.ba(f,e.statusText,g);d.complete(f,e.statusText,g)}else d.error(g,e.statusText,e.response),d.complete(g,e.statusText,e.response)}}; b="undefined"===typeof d.data?"":JSON.stringify(d.data);e.open(d.method,a,!0);e.setRequestHeader("Content-Type","text/plain;charset\x3dUTF-8");c&&(e.withCredentials=!0);e.send(b)}function lt15834_z(){}function lt15834_A(){this.C=[]}lt15834_A.prototype.enqueue=function(a){this.C.push(a)};function lt15834_oa(a){if(0!=a.C.length)return a.C.shift()}lt15834_A.prototype.u=function(){return 0===this.C.length};function lt15834_B(){this.V=new lt15834_A} lt15834_B.prototype.enqueue=function(a){lt15834_s(a)&&this.V.enqueue(new lt15834_r(a))};function lt15834_C(a){var b=lt15834_oa(a.V);if(b)for(;!a.V.u();)b=lt15834_na(b,lt15834_oa(a.V));return b}lt15834_B.prototype.u=function(){return this.V.u()};function lt15834_pa(a){this.ga=this.F=this.ha=!1;this.ua="unknown";this.j=new lt15834_B;this.fa=!1;this.J=a}lt15834_pa.prototype.o=function(){return JSON.parse(JSON.stringify({running:this.ha,runRequested:this.F,pageLoaded:this.ga,dataCollectionEnvironment:this.ua,internalDataQueue:this.j,internalDataQueueBeingProcessed:this.fa,dataCollectionOnlyUseCase:this.J}))};function lt15834_D(a){this.a=a;this.nb=new lt15834_i;this.Ra=this.a.f.profileIdCookieName;try{var b=window.localStorage;b.setItem("__storage_test__","__storage_test__");b.removeItem("__storage_test__");var c=!0}catch(d){c=d instanceof DOMException&&(22===d.code||1014===d.code||"QuotaExceededError"===d.name||"NS_ERROR_DOM_QUOTA_REACHED"===d.name)&&b&&0!==b.length}this.Ma=c;this.bc=this.a.f.cookieNames;this.ra=23328E3;this.qa="_exp"}function lt15834_E(a){return lt15834_F(a,a.Ra)} function lt15834_F(a,b){var c=a.G(b);c||(c=lt15834_G(a,b));return c}function lt15834_qa(a,b,c,d){a.H(b,c,void 0===d?a.ra:Math.ceil((d-(new Date).getTime())/1E3));lt15834_H(a,b,c,d)}lt15834_D.prototype.H=function(a,b,c){this.nb.H(a,b,this.a.f.cookieDomain,c)};function lt15834_H(a,b,c,d){a.Ma&&(window.localStorage.setItem(b,c||""),void 0!==d&&window.localStorage.setItem(b+a.qa,String(d)))}function lt15834_I(a,b){a.Ma&&(window.localStorage.removeItem(b),window.localStorage.removeItem(b+a.qa))} lt15834_D.prototype.G=function(a){return this.nb.G(a)};function lt15834_G(a,b){return a.Ma&&(a=window.localStorage.getItem(b+a.qa),!a||""===a||(new Date(a)).getTime()>Date.now())?window.localStorage.getItem(b):null}function lt15834_ra(a,b){b&&b.forEach(function(c){var d=c.k,e=c.v;c=c.e;a.H(d,e,c);0<c?lt15834_H(a,d,e):lt15834_I(a,d)})}lt15834_D.prototype.M=function(){var a=this,b=[];a.bc.forEach(function(c){var d=lt15834_F(a,c);d&&b.push({k:c,v:d})});return b}; lt15834_D.prototype.N=function(){return this.a.f.panoramaIdEnabled?lt15834_F(this,this.a.f.panoramaIdName):null};function lt15834_J(a,b){this.a=a;this.storage=b;this.kb=250;this.na=0}lt15834_J.prototype.R=function(){console.error("Class extending BaseConsentHandler must implement pollForConsent()")};lt15834_e.Object.defineProperties(lt15834_J,{Xa:{configurable:!0,enumerable:!0,get:function(){return 60}}});function lt15834_K(a){"object"!==typeof a&&(a={});this.ja=a.consent;this.error=a.error;this.P=a.pid}function lt15834_sa(a,b){if(!1!==(a.ja&&0<a.ja.length))return a.ja.find(function(c){return c.clientid==b})}function lt15834_ta(a,b){if(b=lt15834_sa(a,b))return{consent:[b],profileId:a.P?a.P:null}}function lt15834_L(a,b){return(a=lt15834_sa(a,b))&&a.types&&0<a.types.length?a.types:[]}lt15834_K.prototype.toString=function(){return JSON.stringify({consent:this.ja,error:this.error,pid:this.P})};function lt15834_ua(a){a=a||{};this.profile=new lt15834_K(a.Profile)};function lt15834_va(a,b){this.a=a;this.storage=b;this.Fa={analytics:"ca",datasharing:"cds",targeting:"cta",crossdevice:"ccd"};this.Rb="fp";this.Ib="c";this.Lb="ct";this.Mb="skip";this.ib={};lt15834_m(this.a)&&(this.ib[this.Lb]=this.Mb);this.mb=this.a.f.consentClientIds;this.jb=this.a.f.protocol+"://"+this.a.f.privacyDomain+"/consent"} function lt15834_wa(a,b,c){if("function"!==typeof b)throw lt15834_h(lt15834_,"First argument to getConsent must be a callback function but was "+b);if("number"===typeof c){if(!a.mb.includes(c))throw lt15834_h(lt15834_,"Client "+a.a.f.bcpClient+" cannot get consent for client "+c);}else throw lt15834_h(lt15834_,"Second argument to getConsent must be a Lotame client id but was "+c);var d=lt15834_E(a.storage);d=lt15834_xa(a,a.jb+"/get",c,d);lt15834_y(d,{method:"GET",ba:function(e){return lt15834_ya(a, e,b,c,!1)},error:function(e,g){b(lt15834_za(g))}})} function lt15834_Aa(a,b,c,d){if("function"!==typeof b)throw lt15834_h(lt15834_,"First argument to setConsent must be a callback function");if("number"===typeof c){if(!a.mb.includes(c))throw lt15834_h(lt15834_,"Client "+a.a.f.bcpClient+" cannot set consent for client "+c);}else throw lt15834_h(lt15834_,"Second argument to setConsent must be a Lotame client id but was "+c);lt15834_Ba(a,d);var e=lt15834_E(a.storage),g=lt15834_G(a.storage,"lotame_"+c+"_consent");try{var f=JSON.parse(g||"{}")}catch(h){lt15834_.debug("Error parsing consent from local storage: "+ g)}g=new lt15834_K(f);lt15834_Ca(a,g,e,d,c)?b(lt15834_ta(g,c)):(d=lt15834_xa(a,a.jb+"/set",c,e,lt15834_Da(a,d)),lt15834_y(d,{method:"GET",ba:function(h){return lt15834_ya(a,h,b,c,!0)},error:function(h,k){b(lt15834_za(k))}}))}function lt15834_xa(a,b,c,d,e){d=void 0===d?null:d;e=void 0===e?{}:e;e=Object.assign({},a.ib,e);e[a.Ib]=c;d&&(e[a.Rb]=d);a=b;if("undefined"!==typeof e){b=!1;for(var g in e)b?a+="\x26":(a+="?",b=!0),a+=g+"\x3d"+encodeURIComponent(""+e[g])}return a} function lt15834_ya(a,b,c,d,e){b=(new lt15834_ua(b)).profile;var g="lotame_"+d+"_consent";if((void 0===e?0:e)&&b.P&&lt15834_m(a.a)){e=a.storage;var f=b.P;e.H(e.Ra,f);lt15834_H(e,e.Ra,f)}b.error?(c({error:b.error}),lt15834_I(a.storage,g)):(0<lt15834_L(b,d).length&&lt15834_m(a.a)&&lt15834_H(a.storage,g,b.toString()),c(lt15834_ta(b,d)))}function lt15834_za(a){return{error:"500",message:"Call to Lotame's servers failed"+(a?" with the following message: "+a:"")}} function lt15834_Ba(a,b){var c=Object.keys(a.Fa);if(!b||!lt15834_s(b)||0===Object.keys(b).length){var d={};c.forEach(function(e){d[e]=!0});throw"Must provide a consent object like: "+JSON.stringify(d);}Object.keys(b).forEach(function(e){if(!this.Fa[e])throw lt15834_h(lt15834_,"Consent attribute '"+e+"' is not in valid keys "+c);if("boolean"!==typeof b[e])throw lt15834_h(lt15834_,"Consent attribute '"+e+"' must have the boolean value of true or false");},a)} function lt15834_Da(a,b){var c={};Object.keys(b).forEach(function(d){c[this.Fa[d]]=b[d]?1:0},a);return c}function lt15834_Ca(a,b,c,d,e){if(!c||b.P!==c||Object.keys(d).length!==lt15834_L(b,e).length)return!1;var g=!0;lt15834_L(b,e).forEach(function(f){d[f.name]!==f.consent&&(g=!1)},a);return g?!0:!1};function lt15834_M(a,b){a=a||{};this.a=b||{};this.wa=this.I=this.K=this.$a=this.eb=this.Aa=this.ya=this.sa=null;if(b=a.aud)Array.isArray(b)?this.sa=b:lt15834_.error("profileData.audienceIds should be an array");if(b=a.pid)"string"!==typeof b?lt15834_.error("if defined, profileData.profileId should be a string"):this.ya=b;if(b=a.tc)Array.isArray(b)?this.Aa=b:lt15834_.error("profileData.targetingCodes should be an array");if(b=a.spx)Array.isArray(b)?this.eb=b:lt15834_.error("profileData.syncPixels should be an array"); if(b=a.e)Array.isArray(b)?(this.K=b,Array.isArray(b)&&b.forEach(this.Eb)):lt15834_.error("profileData.errorCodes should be an array");if(b=a.exb)Array.isArray(b)?this.$a=b:lt15834_.error("profileData.exportBeaconIds should be an array");lt15834_Ea(this,a.c);lt15834_Fa(this,a.ids)} function lt15834_Ea(a,b){if(b)if(Array.isArray(b)){var c=[];b.forEach(function(d){var e=!0,g=d.k,f=d.v,h=d.e;"string"!==typeof g&&(lt15834_.error("profileData.cookies key attribute should be a string but was "+g),e=!1);"string"!==typeof f&&(lt15834_.error("profileData.cookies value attribute should be a string but was "+f),e=!1);"number"!==typeof h&&(lt15834_.error("profileData.cookies expiration attribute should be a number but was "+h),e=!1);e&&c.push(d)});a.I=c}else lt15834_.error("profileData.cookies ("+ b+") should be an array")} function lt15834_Fa(a,b){if(b)if(Array.isArray(b)){var c=[];b.forEach(function(d){var e=!0,g=d.c,f=d.i,h=d.t,k=d.e;"string"!==typeof g&&(lt15834_.error("profileData.ids category attribute should be a string but was "+g),e=!1);"string"!==typeof f&&"core"!==g&&(lt15834_.error("profileData.ids id attribute should be a string but was "+f),e=!1);-1==["undefined","string"].indexOf(typeof h)&&(lt15834_.error("if set, profileData.ids type attribute should be a string but was "+h),e=!1);-1==["undefined","string"].indexOf(typeof k)&& (lt15834_.error("if set, profileData.ids expiry attribute should be a string but was "+h),e=!1);e&&c.push(d)});a.wa=c}else lt15834_.error("profileData.ids ("+b+") should be an array")}function lt15834_Ga(a,b,c){return(a=lt15834_Ha(a,c))&&a!==[]?a.join(void 0===b?",":b):null}function lt15834_Ha(a,b){var c=[];a.Aa?c=a.Aa:a.sa&&(c=a.sa.join(",").split(","));return"number"===typeof b&&0<b?c.slice(0,b):c}function lt15834_Ia(a){return(a.wa||[]).find(function(b){return"core"==b.c})} lt15834_M.prototype.N=function(){var a=lt15834_Ia(this);return a?a.i:null};lt15834_M.prototype.La=function(){return this.eb};lt15834_M.prototype.Ka=function(){return this.$a};lt15834_M.prototype.M=function(){return this.I};function lt15834_Ja(a,b){return(a=(a.wa||[]).find(function(c){return b==c.t&&"sync"==c.c}))?a.i:null} function lt15834_Ka(a){var b={};return b.getProfileId=function(){return a.ya},b.getAudienceString=function(c,d){return lt15834_Ga(a,c,d)},b.getAudiences=function(c){return lt15834_Ha(a,c)},b.getErrorCodes=function(){return a.K},b.getThirdParty=function(c){return lt15834_Ja(a,c)},b.getPanoramaId=function(){return a.N()},b} lt15834_M.prototype.Eb=function(a){var b=void 0;switch(a){case 100:b="Audience extraction calls are not enabled.";break;case 101:b="Appropriate consent for audience extraction is not present.";break;case 102:b="Data collection is not enabled.";break;case 103:b="Id syncing is not enabled.";break;case 104:b="Data collection client id validation failed.";break;case 105:b="Audience extraction client id validation failed.";break;case 106:b="Linked parent id for audience extraction is invalid.";break;case 107:b= "Aborting because third party cookies are disabled and domain is not configured to use first party storage.";break;case 111:b="Aborting because no consent was present on the request or stored server-side";break;case 112:break;case 113:b="Received Error Code 113";break;case 114:b="Aborting because TCF string was expected but not present.";break;default:b="Unhandled error code "+a+" was received from the data collection call."}b&&lt15834_.error(b)}; function lt15834_La(a){return Array.isArray(a.K)?!!a.K.some(function(b){return-1!==[102,104,111].indexOf(b)}):!1};function lt15834_Ma(){this.ab=this.ta=void 0;this.Ya=this.za=this.bb=!1;this.cb=!0;this.I=this.C=void 0;this.fb=!1;this.Ba=this.L=this.s=void 0}function lt15834_N(a){var b=new lt15834_Ma;"boolean"!==typeof a?lt15834_.error("shouldPerformAudienceExtraction ("+a+") should be a boolean"):b.bb=a;return b}function lt15834_O(a,b){a.ab=b;return a}function lt15834_P(a,b){a.Ya=b;return a}function lt15834_Q(a,b){a.C=b;return a}function lt15834_R(a,b){a.ta=b;return a} function lt15834_S(a,b){a.cb=b;return a}function lt15834_T(a,b){a.za=b;return a}function lt15834_U(a,b){a.I=b;return a}function lt15834_V(a,b){a.fb=b;return a}function lt15834_W(a,b){"undefined"!==typeof b&&(a.L=b);return a}function lt15834_X(a,b){"undefined"!==typeof b&&(a.s=b);return a}function lt15834_Y(a,b){"undefined"!==typeof b&&(a.Ba=b);return a}function lt15834_Z(a){return Object.assign({r:{rpr:a.bb,rpx:a.cb,rid:a.za},m:{ref:a.ab,pv:a.Ya,dcc:a.ta,co:a.fb},d:a.C,c:a.I},lt15834_Na(a))} function lt15834_Na(a){var b="boolean"===typeof a.s,c="string"===typeof a.L,d="string"===typeof a.Ba;return b||c?{consent:{gdpr_applies:b?a.s:null,gdpr_consent:c?a.L:null}}:d?{consent:{us_privacy:d?a.Ba:null}}:{}};function lt15834__(a,b){lt15834_J.call(this,a,b);this.L=this.s=null;this.R()}lt15834_d(lt15834__,lt15834_J);function lt15834_0(a){var b=a.L;b||(b=a.storage.G("eupubconsent-v2"));b||(b=a.storage.G("euconsent-v2"));return b} lt15834__.prototype.R=function(){var a=this;if("undefined"!==typeof window.__tcfapi){var b=function(c,d){d&&c&&"tcloaded"===c.eventStatus&&(c.tcString&&"string"==typeof c.tcString&&(a.L=c.tcString),c.gdprApplies&&"boolean"==typeof c.gdprApplies&&(a.s=c.gdprApplies))};window.__tcfapi("getTCData",2,b);window.__tcfapi("addEventListener",2,b)}else this.na<lt15834__.Xa&&setTimeout(function(){a.R();a.na++},this.kb)};function lt15834_1(a,b,c){lt15834_J.call(this,a,b);this.Nb=c;this.Ca=null;(this.Za=a.f.usPrivacyEnabled)&&this.R()}lt15834_d(lt15834_1,lt15834_J);function lt15834_2(a){var b=a.Ca;!b&&a.Za&&(b=a.storage.G("usprivacy"));return b} lt15834_1.prototype.R=function(){var a=this;"undefined"!==typeof window.__uspapi?(window.__uspapi("registerDeletion",1,function(b){lt15834_.debug("Received a deletion request "+JSON.stringify(b));a.Ca="1YYY";b=a.Nb;var c=void 0===c?lt15834_z:c;var d=lt15834_U(lt15834_Y(lt15834_W(lt15834_X(lt15834_S(lt15834_V(lt15834_R(lt15834_T(lt15834_P(lt15834_O(lt15834_N(!1),b.a.f.windowLocation),!0),!1),b.a.f.bcpClient),lt15834_l(b.a)),!1),b.w.s),lt15834_0(b.w)),lt15834_2(b.oa)),b.storage.M());lt15834_3(b,lt15834_Z(d), "bcpDomain","data",c)}),window.__uspapi("getUSPData",1,function(b,c){c&&b&&b.uspString&&"string"==typeof b.uspString&&(a.Ca=b.uspString)})):this.na<lt15834_1.Xa&&setTimeout(function(){a.R();a.na++},this.kb)};var lt15834_Oa=new RegExp(/^.{1,64}@.{1,255}$/); function lt15834_Pa(a){a=void 0===a?{}:a;this.va=null;this.xa=!1;if(a&&lt15834_s(a)){var b=!1;a&&lt15834_s(a)?"undefined"===typeof a.id||"undefined"===typeof a.type?lt15834_.error("id object must contain both 'id' and 'type' attributes."):2<Object.keys(a).length?lt15834_.error("id object may only contain 'id' and 'type' attributes, got "+Object.keys(a).join(",")):"EMAIL"!==a.type?lt15834_.error("id object type must be 'EMAIL', found '"+a.type+"'"):lt15834_Oa.test(a.id)?b=!0:lt15834_.error("supplied id must be valid email address, was '"+ a.id+"'"):lt15834_.error("id should be an object");b&&(this.va=a,this.xa=!0)}else lt15834_.error("idInput should be an object")}lt15834_Pa.prototype.u=function(){return!(this.xa&&"string"===typeof this.va)};lt15834_Pa.prototype.o=function(){return{did:this.va}};function lt15834_4(a,b,c){this.a=a||{};this.storage=b||{};this.state=c;this.w=new lt15834__(this.a,this.storage);this.oa=new lt15834_1(this.a,this.storage,this);this.S=null}function lt15834_Qa(a){setTimeout(function(){a.state.F||lt15834_Ra(a);lt15834_Sa(a)},3E3)}function lt15834_Sa(a){setInterval(function(){a.state.F||lt15834_Ra(a)},6E3)}function lt15834_Ra(a){try{a.state.F||lt15834_Ta(a,lt15834_C(a.state.j))}catch(b){b&&lt15834_.error("The following error occurred when collecting data: "+b)}} function lt15834_Ua(a){try{a.state.fa&&a.ping(lt15834_C(a.state.j))}catch(b){b&&lt15834_.error("The following error occurred when collecting data on page departure: "+b)}} lt15834_4.prototype.Z=function(a,b){var c=lt15834_Y(lt15834_W(lt15834_X(lt15834_S(lt15834_V(lt15834_R(lt15834_T(lt15834_P(lt15834_O(lt15834_N(lt15834_k(this.a)),this.a.f.windowLocation),!0),!0),this.a.f.bcpClient),lt15834_l(this.a)),!0),this.w.s),lt15834_0(this.w)),lt15834_2(this.oa));a&&(a=a.la(),lt15834_x(a)||lt15834_Q(c,a));lt15834_U(c,this.storage.M());lt15834_3(this,lt15834_Z(c),"bcpDomain","data",b)}; function lt15834_Ta(a,b){var c=void 0===c?lt15834_z:c;b&&lt15834_s(b)&&!lt15834_x(b)&&!b.u()&&(b=lt15834_Va(a,b),lt15834_3(a,lt15834_Z(b),"bcpDomain","data",c))}function lt15834_3(a,b,c,d,e){e=void 0===e?lt15834_z:e;lt15834_y(lt15834_Wa(a,void 0===d?"data":d,c),{method:"POST",data:b,ba:function(g){a.S=new lt15834_M(g,a.a);e(a.S)},error:function(g,f){lt15834_.error("Aborting due to error contacting Lotame's servers. Error reason was '"+(void 0===f?" not provided":f)+"'.")}})} lt15834_4.prototype.ping=function(a){if(a&&lt15834_s(a)&&!lt15834_x(a)&&!a.u()){var b=!1;if(window.navigator&&window.navigator.sendBeacon){b=lt15834_Va(this,a);var c=lt15834_Wa(this,"data","bcpDomain");lt15834_.debug("Using navigator.sendBeacon() to send the following data on page exit",a);b=navigator.sendBeacon(c,JSON.stringify(lt15834_Z(b)))}b||(lt15834_.debug("Falling back to ajax to send the following data on page exit",a),lt15834_Ta(this,a))}}; function lt15834_Va(a,b){return lt15834_Y(lt15834_W(lt15834_X(lt15834_U(lt15834_V(lt15834_Q(lt15834_S(lt15834_T(lt15834_R(lt15834_P(lt15834_O(lt15834_N(!1),a.a.f.windowLocation),!1),a.a.f.bcpClient),!1),!1),b.la()),lt15834_l(a.a)),a.storage.M()),a.w.s),lt15834_0(a.w)),lt15834_2(a.oa))}lt15834_4.prototype.La=function(){return this.S?this.S.La():[]};lt15834_4.prototype.Ka=function(){return this.S?this.S.Ka():[]}; function lt15834_Wa(a,b,c){return a.a.f.protocol+"://"+a.a.f[c]+"/"+a.a.f.bcpVersion+"/"+b};function lt15834_Xa(a){this.a=a;this.Oa=!1;this.Da=this.a.f.bcpClient;this.qb="lt_3p_"+this.Da;this.Ub=this.a.f.iframeOrigin+"/"+this.a.f.sharedS3Path+"/lt.iframe.html?c\x3d"+this.a.f.bcpClient;a=document.createElement("iframe");a.setAttribute("id",this.qb);a.setAttribute("src",this.Ub);a.setAttribute("title","empty");a.setAttribute("tabindex","-1");a.setAttribute("role","presentation");a.setAttribute("aria-hidden","true");a.style.border="0px";a.style.width="0px";a.style.height="0px";a.style.display= "block";this.Y=a}function lt15834_Ya(a,b){document.getElementById(a.qb)?lt15834_Za(b)&&b():(a.Y.onload=function(){a.Oa=!0;lt15834_Za(b)&&b()},"loading"===document.readyState?window.addEventListener("DOMContentLoaded",function(){document.body.appendChild(a.Y)}):document.body.appendChild(a.Y))}lt15834_Xa.prototype.getTime=function(){return(new Date).getTime()};function lt15834_Za(a){return!!(a&&a.constructor&&a.call&&a.apply)};function lt15834__a(a){this.ub=a[0]||"";this.type="r"===a[1]?"referrer":"element";this.zb=a[2];this.Sa=a[4]||null}function lt15834_5(a){return"referrer"===a.type};function lt15834_6(){this.T=/([a-zA-Z]+)?\{\{([^}}]*)\}\}(\.([a-zA-Z0-9\._-]+))?/g}lt15834_6.prototype.reset=function(){this.T.lastIndex=0};lt15834_6.prototype.exec=function(a){return this.T.exec(a)};lt15834_6.prototype.test=function(a){this.T.lastIndex=0;return this.T.test(a)};lt15834_6.prototype.replace=function(a){this.T.lastIndex=0;return a.replace(this.T,"")};var lt15834_7=new lt15834_6; function lt15834_0a(a){a=void 0===a?{}:a;this.id=a.id;this.location=a.location;this.element=a.element;this.event=a.event;this.Hb=a.behaviorType;this.yb=a.ruleBuilderKey;this.ca=a.template;a:{try{if(this.element){var b=lt15834_7.test(this.element)?this.element:"{{#"+this.element+"}}";lt15834_7.reset();var c=lt15834_7.exec(b);var d=c?new lt15834__a(c):null;break a}}catch(g){throw Error('Element "'+this.element+'" is invalid');}d=null}this.Ja=d;a=[];try{var e;for(lt15834_7.reset();null!==(e=lt15834_7.exec(this.ca));)a.push(new lt15834__a(e))}catch(g){throw Error('Template "'+ this.ca+'" is invalid');}this.Cb=a}function lt15834_1a(a,b){var c=null;try{c=(new RegExp(a.location)).exec(b)}catch(d){lt15834_.error("Rule ["+a.id+"] "+("location is an invalid expression: "+a.location))}return c};function lt15834_2a(){this.rb=this.Qa=null;this.ka=[]}function lt15834_3a(a){var b=new lt15834_2a;b.Qa=a;return b}function lt15834_4a(a,b){a.rb=b;return a}function lt15834_5a(a,b){a.ka=b;return a};function lt15834_6a(){this.$=[]}lt15834_6a.prototype.add=function(a){this.$.push(a)};function lt15834_7a(a){var b=[];a.$.forEach(function(c){(c=c.rb)&&0<c.length&&Array.prototype.forEach.call(c,function(d){d.nodeType&&d.nodeType==Node.ELEMENT_NODE&&b.push(d)})});return b};function lt15834_8a(a,b){this.location=a;this.document=b}function lt15834_9a(a,b){var c=null;b.element?0<lt15834_8(a,[b.Ja]).$.length&&(c=lt15834_$a(a,b)):c=lt15834_$a(a,b);return c} function lt15834_8(a,b){var c=new lt15834_6a;try{b.forEach(function(d){if(lt15834_5(d)){var e=null,g=lt15834_5(d)?parseInt(d.Sa,10)||0:0,f=(new RegExp(d.zb)).exec(a.document.referrer);null!==f&&"undefined"!==typeof f[g]&&(e=lt15834_ab(f[g]),e=lt15834_5a(lt15834_3a(d.ub),[e]));d=e}else d=lt15834_bb(a,d);d&&c.add(d)})}catch(d){lt15834_.debug("Error, rule contains bad selector: "+d)}return c} function lt15834_bb(a,b){var c=null,d=(lt15834_5(b)?null:b.Sa)||"value";a=lt15834_cb(a,b.zb);var e=[];a&&0<a.length&&(Array.prototype.forEach.call(a,function(g){for(var f=d.split("."),h=0;g&&h<f.length;)g=g[f[h]],h++;g&&h===f.length&&e.push(lt15834_ab(g.toString()))}),lt15834_5(b)||!b.Sa||0<e.length)&&(c=lt15834_5a(lt15834_4a(lt15834_3a(b.ub),a),e));return c} function lt15834_cb(a,b){var c=null;if(b)try{c=a.document.querySelectorAll(b)}catch(d){lt15834_.debug("Error querying selector: "+b)}return c}function lt15834_ab(a){a=a.replace(/<\/?[^>]+\/?>/gi,"").replace(/\n|\t|\r/gi," ").replace(/\s{2,}/g," ").replace(/\[quote\][\s\S]*\[\/quote\]/gi,"");try{a=decodeURIComponent(a)}catch(b){}return a}function lt15834_$a(a,b){return b.yb?lt15834_db(a,b):lt15834_eb(a,b)} function lt15834_eb(a,b){var c=null,d=b.ca;lt15834_8(a,b.Cb||[]).$.forEach(function(g){d=d.replace(g.Qa,(0<g.ka.length?g.ka.join(","):null)||"")});if((a=lt15834_1a(b,a.location))&&0<a.length)for(var e=0;e<a.length;e++)d=d.replace(new RegExp("\\$"+e.toString()+"\\b"),a[e]);if(d=lt15834_7.replace(d)){c={behaviors:{}};try{d=decodeURI(d)}catch(g){}c.behaviors[b.Hb]=["#OpR#"+b.id+"#"+d];c=new lt15834_r(c)}return c} function lt15834_db(a,b){var c=[],d=lt15834_1a(b,a.location),e=[];if(d&&0<d.length)for(var g=0;g<d.length;g++)e.push(new RegExp("\\$"+g.toString()+"\\b"));var f=lt15834_8(a,b.Cb||[]).$;0<f.length?(g=f.map(function(h){return h.ka}),lt15834_fb(a,g).forEach(function(h){for(var k=String(b.ca),l=0;l<f.length;l++)k=k.replace(f[l].Qa,h[l]);(k=lt15834_gb(k,e,d))&&c.push(k)})):(a=String(b.ca),(a=lt15834_gb(a,e,d))&&c.push(a));a=null;0<c.length&&(a={ruleBuilder:{}},a.ruleBuilder[b.yb]=c,a=new lt15834_r(a)); return a}function lt15834_gb(a,b,c){for(var d=0;d<b.length;d++)a=a.replace(b[d],c[d]);return lt15834_7.replace(a)}function lt15834_fb(a,b){var c=[],d=b.length;if(1==d)c=b[0].map(function(g){return[g]});else if(1<d){d=b[0];var e=lt15834_fb(a,b.slice(1));d.forEach(function(g){for(var f=JSON.parse(JSON.stringify(e)),h=0;h<f.length;h++)f[h].unshift(g),c.push(f[h])})}return c};function lt15834_hb(){this.Ta=new lt15834_B}lt15834_hb.prototype.add=function(a){a&&this.Ta.enqueue(a.o())};function lt15834_ib(a){return a.Ta.u()?null:lt15834_C(a.Ta).o()};function lt15834_jb(a){this.Bb=a;this.cache=[]}function lt15834_kb(a,b,c,d){c.forEach(function(e){var g=b.event,f=a.cache.find(function(h){return e===h.element});f?(f=f.handlers,g in f||(f[g]={},f[g].callbacks=[]),f[g].callbacks.push(lt15834_lb(a,b,e,d))):(f={},f[g]={},f[g].callbacks=[lt15834_lb(a,b,e,d)],a.cache.push({element:e,handlers:f}))})} function lt15834_lb(a,b,c,d){return function(e){c===d.document&&b.element?lt15834_7a(lt15834_8(d,[b.Ja])).find(function(g){return e.target&&e.target==g||e.srcElement&&e.srcElement==g})&&a.Bb.add(lt15834_9a(d,b)):a.Bb.add(lt15834_9a(d,b))}};function lt15834_mb(a,b,c){this.a=a;this.vb=[];this.wb=!1;this.ob=lt15834_nb(this,this.a.f.firstImpressionRules);this.Vb=b;this.Wa=new lt15834_hb;this.ma=new lt15834_jb(this.Wa);this.Tb="function"===typeof c;this.Wb=c}function lt15834_ob(a){lt15834_.debug("Running Optimus Page Load Rules.");a.wb?lt15834_pb(a):(lt15834_qb(a),a.wb=!0)}function lt15834_rb(a){lt15834_.debug("Running Optimus First Impression Rules.");0<a.ob.length&&(lt15834_sb(a,a.ob),lt15834_tb(a,"firstImpression"))} function lt15834_qb(a){lt15834_y(a.a.f.protocol+"://"+a.a.f.tagsDomain+"/lt/c/"+a.a.f.bcpClient+"/optimus_rules.json",{ba:function(b){a.vb=lt15834_nb(a,b);lt15834_pb(a)},error:function(b,c){lt15834_.error("Failed loading Optimus rules:  "+c)}},!1)}function lt15834_nb(a,b){var c=[];b&&Array.isArray(b)&&0<b.length&&b.forEach(function(d){try{c.push(new lt15834_0a(d))}catch(e){lt15834_.error(e)}},a);return c}function lt15834_ub(){var a=window,b={};b[a.location.href]=a.document;return b} function lt15834_pb(a){lt15834_vb(a);lt15834_sb(a,a.vb);lt15834_wb(a);lt15834_tb(a,"fullRun")}function lt15834_sb(a,b){var c=lt15834_ub(),d={},e;for(e in c)d.ea=c[e],d.U=new lt15834_8a(e,d.ea),b.forEach(function(g){return function(f){if((new RegExp(f.location)).test(e))if(f.element&&f.event){var h=lt15834_7a(lt15834_8(g.U,[f.Ja]));0>=h.length&&"click"===f.event&&h.push(g.ea);lt15834_kb(a.ma,f,h,g.U)}else a.Wa.add(lt15834_9a(g.U,f))}}(d)),d={U:d.U,ea:d.ea}} function lt15834_wb(a){a.ma.cache.forEach(function(b){var c=b.element;b=b.handlers;var d={},e;for(e in b)d.pa=b[e].callbacks,b[e].listener=function(g){return function(f){return lt15834_xb(a,f,c,g.pa)}}(d),lt15834_v(c,e,b[e].listener),lt15834_.debug("Adding "+e+" event handler to "+(c.outerHTML||"document")),d={pa:d.pa}})}function lt15834_vb(a){a.ma.cache.forEach(function(b){var c=b.element;b=b.handlers;for(var d in b)lt15834_w(c,d,b[d].listener)});a.ma.cache=[]} function lt15834_xb(a,b,c,d){d.forEach(function(e){return e.call(c,b)});lt15834_tb(a,"event")}function lt15834_tb(a,b){b=void 0===b?"fullRun":b;var c=lt15834_ib(a.Wa);c&&a.Vb.enqueue(c);a.Tb&&"fullRun"===b&&a.Wb.apply(a,[])};function lt15834_yb(a){this.state=a} function lt15834_zb(a){if(window.pbjs&&"object"===typeof window.pbjs){var b=[],c="bidder adId mediaType cpm dealId currency creativeId adUnitCode".split(" "),d=new lt15834_hb;"function"===typeof window.pbjs.getAllPrebidWinningBids&&(b=b.concat(window.pbjs.getAllPrebidWinningBids()));"function"===typeof window.pbjs.getAllWinningBids&&(b=b.concat(window.pbjs.getAllWinningBids()));b.forEach(function(e){if("object"===typeof e&&"string"===typeof e.bidder){var g={};c.forEach(function(f){var h=e[f],k=typeof h; "number"===k?h=String(h).trim():"string"!==k&&(h="");""!==h&&(g["prebid_"+f]=[h])});d.add(new lt15834_r({ruleBuilder:g}))}});(b=lt15834_ib(d))&&a.state.j.enqueue(b)}};function lt15834_Ab(a,b,c){(this.X=a.f.googleCampaignEvents)&&0<this.X.length&&(this.state=b,this.B=c,this.W=null,this.xb=this.X.includes("render"),this.dc=this.X.includes("view"),this.Ea=this.X.includes("click"),this.tb={},this.sb={},window.googletag=window.googletag||{cmd:[]},lt15834_Bb(this),lt15834_Cb(this),this.dc&&lt15834_Db(this),this.Ea&&lt15834_Eb(this))} function lt15834_9(a,b,c){var d={};b&&(b=b.getResponseInformation())&&(b.advertiserId&&(d[c+"AdvertiserId"]=[String(b.advertiserId)]),b.campaignId&&(d[c+"CampaignId"]=[String(b.campaignId)]),b.creativeId&&(d[c+"CreativeId"]=[String(b.creativeId)]),a.state.j.enqueue((new lt15834_r({ruleBuilder:d})).o()))} function lt15834_Bb(a){try{window.googletag.cmd.push(function(){try{window.googletag.pubads&&window.googletag.pubads.getSlots&&window.googletag.pubads().getSlots().forEach(function(b){b.getResponseInformation()&&(lt15834_$("Previously Rendered Slot",b),a.xb&&lt15834_9(a,b,"render"),a.Ea&&lt15834_Fb(a,b))})}catch(b){}})}catch(b){lt15834_.error("Error checking for previously rendered ads")}} function lt15834_Cb(a){try{window.googletag.cmd.push(function(){try{window.googletag.pubads&&window.googletag.pubads().addEventListener("slotRenderEnded",function(b){lt15834_$("Newly Rendered Slot",b.slot);a.xb&&lt15834_9(a,b.slot,"render");a.Ea&&lt15834_Fb(a,b.slot)})}catch(b){}})}catch(b){lt15834_.error("Error setting up listeners for newly rendered ads")}} function lt15834_Db(a){try{window.googletag.cmd.push(function(){try{window.googletag.pubads&&window.googletag.pubads().addEventListener("impressionViewable",function(b){lt15834_$("Viewed Slot",b.slot);lt15834_9(a,b.slot,"view")})}catch(b){}})}catch(b){lt15834_.error("Error setting up listeners for viewed ads")}}function lt15834_Eb(a){window.addEventListener("blur",function(){null!=a.W&&(lt15834_$("Click Slot",a.W),lt15834_9(a,a.W,"click"),lt15834_Ua(a.B))})} function lt15834_Fb(a,b){try{var c=b.getSlotElementId(),d=document.getElementById(c);if(d){var e=a.tb[c];e&&lt15834_w(d,"mouseover",e);var g=a.sb[c];g&&lt15834_w(d,"mouseout",g);e=function(){lt15834_$("Mouseover Slot",b);a.W=b};lt15834_v(d,"mouseover",e);a.tb[c]=e;e=function(){lt15834_$("Mouseout Slot",b);a.W=null};lt15834_v(d,"mouseout",e);a.sb[c]=e}}catch(f){lt15834_.error(f)}}function lt15834_$(a,b){if(lt15834_.Ia&&b){var c=b.getSlotId().getId();lt15834_.debug(a+" - "+c+" : ",b)}};function lt15834_Gb(a,b){this.enabled=!0===a.f.googleEspEnabled&&!0===a.f.panoramaIdEnabled&&!0;this.storage=b;lt15834_.Ia&&lt15834_.debug("Google Esp Module Enabled: "+this.enabled);!0===this.enabled&&(window.googletag=window.googletag||{cmd:[]},window.googletag.encryptedSignalProviders=window.googletag.encryptedSignalProviders||[],(a=this.storage.N())&&lt15834_Hb(this,a))} function lt15834_Hb(a,b){b=b||"";a.enabled&&window.googletag.encryptedSignalProviders.push({id:"crwdcntrl.net",collectorFunction:function(){lt15834_.debug("panoramaId provided to googleEsp: "+b);return Promise.resolve(b)}})};function lt15834_Ib(a,b){this.a=a;this.storage=b}function lt15834_Jb(a,b){var c=b.M();c&&lt15834_ra(a.storage,c);var d=b.N();c=a.a.f.panoramaIdName;if(b=(b=lt15834_Ia(b))?b.e:null){var e=parseInt(b,10);lt15834_qa(a.storage,c+"_expiry",b,e);"string"===typeof d&&d?lt15834_qa(a.storage,c,d,e):(a=a.storage,a.H(c,"",0),lt15834_I(a,c))}} function lt15834_Kb(a,b){if("function"===typeof a.a.f.onProfileReady)try{(0,a.a.f.onProfileReady)(lt15834_Ka(b))}catch(c){c&&lt15834_.error("The following error occurred in the onProfileReady callback: "+c)}} function lt15834_Lb(a){var b=a.a.f.namespace;Array.isArray(b.cmd)?b.cmd.forEach(function(c){if("function"===typeof c)try{c.apply(a)}catch(d){d&&lt15834_.error("The following error occurred when executing queued commands: "+d)}}):b.cmd=[];b.cmd.push=function(c){if("function"===typeof c)try{c.apply(a)}catch(d){d&&lt15834_.error("The following error occurred when executing a command: "+d)}}};function lt15834_Mb(){var a=this;this.a=new lt15834_ja;this.state=new lt15834_pa(!lt15834_k(this.a));this.Na=new lt15834_Xa(this.a);this.storage=new lt15834_D(this.a);this.B=new lt15834_4(this.a,this.storage,this.state);this.lb=new lt15834_va(this.a,this.storage);this.Xb=new lt15834_yb(this.state);new lt15834_Ab(this.a,this.state,this.B);this.Sb=new lt15834_Gb(this.a,this.storage);this.Pa=new lt15834_mb(this.a,this.state.j,function(){a.state.J&&a.Z()});this.Ga=new lt15834_Ib(this.a,this.storage); lt15834_v(window,"message",function(b){if(a.a.f.iframeOrigin===b.origin&&b.data.action=="ltjs:"+a.a.f.bcpClient+":publishLotameEnvironment"){b=b.data.value;a.state.ua=b;if("thirdParty"===b){b=a.Na;var c=a.B;c={cc:c.La(),Qb:c.Ka(),Kb:{tcString:lt15834_0(c.w),gdprApplies:c.w.s}};c=void 0===c?{}:c;if(b.Oa){var d=c.Kb||{};d.syncPixels=c.cc;d.exportBeacons=c.Qb;d.clientId=b.a.f.bcpClient;d.bcpPrefix=b.a.f.bcpPrefix;b.Y.contentWindow.postMessage({action:"ltjs:"+b.Da+":requestDeployPixelContent",params:d}, b.a.f.iframeOrigin)}}a.state.J||lt15834_Nb(a);a.state.ha=!1;a.state.F&&lt15834_Ob(a)}});lt15834_v(window,"visibilitychange",function(){"hidden"===document.visibilityState&&lt15834_Ua(a.B)});lt15834_v(window,"pagehide",function(){lt15834_Ua(a.B)});lt15834_v(window,"load",function(){a.state.ga=!0;!0===a.a.f.autoRun&&lt15834_Nb(a)});"complete"===document.readyState&&(this.state.ga=!0);lt15834_Pb(this);lt15834_Lb(this.Ga);if("function"===typeof this.a.f.onTagReady)try{(0,this.a.f.onTagReady)(this.a.f.namespace)}catch(b){b&& lt15834_.error("The following error occurred in the onTagReady callback: "+b)}!0===this.a.f.autoRun&&lt15834_Ob(this)}function lt15834_Ob(a,b){b=void 0===b?{}:b;a.state.ha?(a.state.F=!0,a.state.j.enqueue(b)):a.state.J?(a.state.j.enqueue(b),lt15834_Nb(a)):a.Z(b)} lt15834_Mb.prototype.Z=function(a){var b=this;a=void 0===a?{}:a;this.state.ha=!0;this.state.F=!1;this.state.j.enqueue(this.a.f.namespace.data||{});lt15834_rb(this.Pa);var c=lt15834_C(this.state.j);lt15834_s(a)&&!lt15834_x(a)&&(a=new lt15834_r(a),c=c?lt15834_na(c,a):a);lt15834_.debug("Recording a page view.");this.B.Z(c,function(d){return lt15834_Qb(b,d)})}; function lt15834_Pb(a){var b=a.a.f.namespace;b.getAudiences=function(c){var d=a.storage,e=[],g=d.a.f.audienceLocalStorage;if(g)try{var f=lt15834_G(d,g);f&&(e=f.split(","),"number"===typeof c&&0<c&&(e=e.slice(0,c)))}catch(h){lt15834_.error("The following error occurred while trying to get audiences: "+h)}else lt15834_.error("The audienceLocalStorage configuration must be enabled to get audiences.");return e};b.getProfileId=function(){return lt15834_E(a.storage)};b.getPanoramaId=function(){return a.storage.N()}; b.page=function(c){return lt15834_Ob(a,c)};b.collect=function(c){return a.state.j.enqueue(c)};b.setIdentity=function(c){var d=a.B;d.a.f.enableDeclaredIds||lt15834_.error("Client "+d.a.f.bcpClient+" is not enabled to declare identifiers. Please contact a Lotame representative.");if(lt15834_s(c)){if(c=new lt15834_Pa(c),c.xa){var e=lt15834_Y(lt15834_W(lt15834_X(lt15834_U(lt15834_P(lt15834_T(lt15834_R(new lt15834_Ma,d.a.f.bcpClient),!1),!1),d.storage.M()),d.w.s),lt15834_0(d.w)),lt15834_2(d.oa));lt15834_Q(e, c.o());lt15834_3(d,Object.assign({r:{rid:e.za},m:{dcc:e.ta},d:e.C,c:e.I},lt15834_Na(e)),"sensitiveDomain","map")}}else lt15834_.error("Call to identify must include a properly formatted ID object.")};b.sync=function(){return lt15834_.error("sync() is not supported. Either switch to using sync.js or use the collect() method")};b.getConsent=function(c,d){return lt15834_wa(a.lb,c,d)};b.setConsent=function(c,d,e){return lt15834_Aa(a.lb,c,d,e)};b.getInternalState=function(){return a.state.o()};b.getInternalConfigs= function(){return a.a.o()}} function lt15834_Qb(a,b){lt15834_Jb(a.Ga,b);var c=a.a.f.audienceLocalStorage;lt15834_k(a.a)&&!1!==c&&(lt15834_l(a.a)?lt15834_I(a.storage,c):lt15834_H(a.storage,c,lt15834_Ga(b,",")));lt15834_Kb(a.Ga,b);lt15834_La(b)?lt15834_.error("Aborting due to above errors."):Array.isArray(b.K)&&b.K.includes(107)?lt15834_.debug("Cookie test failed."):(lt15834_Hb(a.Sb,a.storage.N()),lt15834_Ya(a.Na,function(){var d=a.Na;d.Oa&&d.Y.contentWindow.postMessage({action:"ltjs:"+d.Da+":requestLotameEnvironment",key:d.a.f.profileIdCookieName}, d.a.f.iframeOrigin)}),b.ya&&!a.state.fa&&(a.state.fa=!0,lt15834_Qa(a.B)))}function lt15834_Nb(a){if(a.state.ga){if(a.a.f.hasPageLoadOptimusRules)switch(a.state.ua){case "thirdParty":case "firstParty":lt15834_ob(a.Pa);break;default:a.state.J&&lt15834_ob(a.Pa)}a.a.f.collectPrebidData&&lt15834_zb(a.Xb);a.state.J&&!a.a.f.hasPageLoadOptimusRules&&a.Z()}};lt15834_.name="LT.JS";try{new lt15834_Mb}catch(a){lt15834_.error(a)};} 